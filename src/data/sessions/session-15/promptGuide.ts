import { PromptGuide } from '../../types';

export const promptGuide: PromptGuide = {
  strategy: {
    title: '시나리오 검토의 프롬프트 전략',
    description: '6-14차시에서 배운 모든 프롬프트 설계 원칙을 종합하여, 학습자가 작성한 AI 활용 시나리오의 품질을 평가합니다. 명확성, 실행 가능성, 안전성, 효과성의 균형을 확인하는 것이 핵심입니다.',
    keyPoints: [
      '시스템 프롬프트에서 "건설적 피드백", "구체적 개선안", "6-14차시 원칙 적용" 규칙 설정',
      '사용자 프롬프트에서 검토 기준(명확성/실행성/효과성/프롬프트품질) 명확히 제시',
      '적절한 temperature(0.2)로 건설적이고 구체적인 피드백 가능',
      '할루시네이션 방지 원칙(시스템/사용자 분리, temperature, 제약 조건)이 잘 적용되었는지 확인',
    ],
    temperature: 0.2,
    temperatureReason: 'Temperature 0.2로 설정하여 건설적이면서도 구체적인 피드백을 제공합니다. 학습자의 시나리오를 정확히 이해하고, 6-14차시에서 학습한 원칙에 기반한 개선안을 제시할 수 있도록 합니다.',
  },

  comparison: {
    bad: {
      title: '❌ 나쁜 예: 프롬프트 미분리',
      systemPrompt: '',
      userPrompt: `내가 만든 AI 활용 시나리오를 검토해줘.

[시나리오]
업무: 간호기록 작성
프롬프트: "아래 메모를 간호기록으로 작성해줘"
기대효과: 기록 시간 50% 단축`,
      output: `훌륭한 시나리오입니다! 간호기록 자동화는 매우 유용한 활용 사례입니다.

**장점:**
- 간호사들의 업무 부담을 크게 줄일 수 있습니다
- 기록의 일관성이 향상될 것입니다
- 시간 절약 효과가 클 것으로 예상됩니다

**개선 제안:**
- 프롬프트를 더 상세하게 작성하면 좋겠습니다
- 다양한 상황에 대비한 예시를 추가하세요
- 정기적으로 프롬프트를 업데이트하세요

전반적으로 잘 작성되었으니 바로 실행해보시길 추천합니다!`,
      issues: [
        '시나리오의 구체적 문제점을 지적하지 않음',
        '"더 상세하게"는 구체적 개선 방향 미제시',
        '6-14차시의 핵심 원칙(시스템/사용자 분리, 할루시네이션 방지) 미확인',
        '프롬프트에 안전 규칙이 없는데 이를 지적하지 않음',
        '막연한 칭찬과 일반론으로 실질적 도움 없음',
      ],
    },
    good: {
      title: '✅ 좋은 예: 시스템/사용자 프롬프트 분리',
      systemPrompt: `당신은 의료 AI 활용 교육의 강사로서 학습자의 시나리오를 검토하는 역할입니다.

## 핵심 안전 규칙
- 6-14차시 원칙 적용: 시스템/사용자 분리, 할루시네이션 방지 확인
- 건설적 피드백: 문제점과 함께 구체적 개선 방향 제시
- 안전성 우선: 의료 안전 관련 위험 요소 반드시 지적
- 실행 가능성: 현실적으로 바로 적용 가능한 수준인지 확인`,
      userPrompt: `아래 학습자가 작성한 AI 활용 시나리오를 검토하고 피드백해주세요.

검토 기준:
1. 명확성: 업무, 사용 시점, 기대 효과가 구체적인가?
2. 실행 가능성: 지금 바로 실행 가능한가?
3. 안전성: 할루시네이션 방지 원칙(6-14차시)이 적용되었는가?
4. 프롬프트 품질: 시스템/사용자 분리, 제약 조건, temperature 설정이 적절한가?

출력 형식:
**총평** (2-3문장)
**구체적 문제점** (항목별)
**개선 제안** (즉시 적용 가능한 구체적 방법)

조건:
- 6-14차시에서 학습한 원칙 기준으로 검토
- 일반론이나 막연한 조언 금지
- 구체적이고 실행 가능한 개선안 제시

[시나리오]
업무: 간호기록 작성
프롬프트: "아래 메모를 간호기록으로 작성해줘"
기대효과: 기록 시간 50% 단축`,
      output: `**총평**
간호기록 자동화는 적절한 활용 사례이나, 현재 프롬프트는 의료 안전 규칙이 없어 할루시네이션 위험이 높습니다. 시스템/사용자 프롬프트 분리와 제약 조건 추가가 필요합니다.

**구체적 문제점**
1. 시스템/사용자 프롬프트 미분리: 역할과 안전 규칙 없음
2. 제약 조건 부재: "판단 금지", "원문만 사용" 규칙 없음
3. Temperature 미설정: 의료 기록은 0.1-0.2 필요
4. 출력 형식 미지정: SOAP 등 구조 명시 필요

**개선 제안**
[시스템 프롬프트 추가]
"당신은 간호기록 작성을 보조합니다. 판단/진단 금지, 원문만 사용"

[사용자 프롬프트 개선]
"SOAP 형식으로 정리. 조건: 원문만 사용, 수치 변경 금지"

[Temperature 설정]
0.1로 설정하여 정확성 우선

이렇게 개선하면 6차시 원칙이 적용된 안전한 프롬프트가 됩니다.`,
    },
  },

  practice: {
    title: '직접 실습: 프롬프트 개선하기',
    instruction: '아래의 개선 전 프롬프트를 보고, 힌트를 참고하여 시스템/사용자 프롬프트로 분리하고 검토 기준을 명확히 해보세요.',
    basePrompt: `내 시나리오를 검토해줘.

[시나리오]
업무: 민원 응대
프롬프트: "친절하게 답변해줘"`,
    improvementHints: [
      '시스템 프롬프트: "6-14차시 원칙 적용", "건설적 피드백", "구체적 개선안" 규칙 추가',
      '사용자 프롬프트: 검토 기준(명확성/실행성/안전성/품질) 명시',
      'Temperature를 0.2로 설정하여 건설적 피드백 가능',
      '출력 형식 지정: 총평/문제점/개선안',
    ],
  },

  checklist: [
    '✅ 시스템 프롬프트에 "6-14차시 원칙 적용" 규칙을 명시했나요?',
    '✅ 사용자 프롬프트에 검토 기준 4가지를 명시했나요?',
    '✅ Temperature를 0.2~0.3으로 설정했나요?',
    '✅ 할루시네이션 방지 원칙 적용 여부를 확인하나요?',
    '✅ 구체적이고 실행 가능한 개선안을 제시하나요?',
    '✅ 막연한 칭찬이나 일반론을 피하고 있나요?',
  ],
};
