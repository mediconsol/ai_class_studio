import { PracticeScenario } from '../../types';

export const practiceScenarios: PracticeScenario[] = [
  {
    id: 1,
    title: '시나리오 1: 단기 관찰 기록 요약',
    description: '4일간의 메모형 관찰 기록을 보고 전체 흐름을 요약하는 실습입니다. 기록은 쌓여있지만 흐름이 보이지 않는 상황에서 AI가 어떻게 패턴을 정리하는지 확인합니다.',
    dummyDataList: [
      {
        id: 's08-prac01',
        title: '4일간 관찰 기록 (메모형)',
        description: '80대 남성 환자의 4일간 간호 관찰 메모',
        category: 'nursing',
        format: 'text',
        dataType: 'memo',
        characteristics: '매일 다른 간호사가 작성한 것처럼 일관성 없는 메모 형식입니다. 수면, 통증, 활력징후, 식사, 보행 등 여러 항목이 혼재되어 있습니다.',
        content: `[환자: 김OO (80대, 남)]

[1일차]
수면 시간 짧음
허리 통증 호소
혈압 160/95
식사량 절반 이하

[2일차]
수면 시간 약간 증가
통증 지속
혈압 155/90
보행 시 불안정 지속

[3일차]
수면 양호
통증 표현 감소
혈압 150/88
식사량 다소 증가

[4일차]
수면 양호 유지
통증 거의 호소 안 함
혈압 145/85
보행 안정성 개선됨`
      }
    ],
    prompts: [
      {
        id: 's08-prac01-p01',
        title: '상태 흐름 요약',
        template: `아래 며칠간의 관찰 기록을 바탕으로 환자의 전반적인 상태 변화 흐름을 요약해주세요.

요약 구조:
1. 초기 상태
2. 경과 요약 (주요 변화)
3. 현재 상태
4. 주의 깊게 볼 점

조건:
- 진단이나 판단은 추가하지 말 것
- 간호 관찰 사실만 정리
- 원문에 있는 내용만 사용
- 수치 변화는 정확히 기재

[관찰 기록]
{{data}}`,
        promptType: 'summary',
        outputFormat: 'report',
        difficulty: 'basic',
        tags: ['환자관찰', '상태요약'],
        expectedOutput: `■ 초기 상태 (1일차)
- 수면: 시간 부족
- 통증: 허리 통증 호소
- 혈압: 160/95 (상승)
- 영양: 식사량 절반 이하
- 이동: 보행 불안정

■ 경과 요약
- 수면: 점진적 개선 (부족 → 양호 유지)
- 통증: 점진적 감소 (호소 → 거의 없음)
- 혈압: 점진적 하강 (160/95 → 145/85)
- 영양: 다소 개선 (3일차 식사량 증가)
- 이동: 개선 (불안정 → 안정성 개선)

■ 현재 상태 (4일차)
- 수면 양호 유지
- 통증 거의 없음
- 혈압 145/85
- 보행 안정성 개선

■ 주의 깊게 볼 점
- 혈압 수치 추이 지속 관찰
- 보행 시 안정성 유지 여부
- 식사량 회복 정도 모니터링`,
        outputExplanation: 'AI가 4일간의 산발적인 메모를 항목별로 분류하고 시간순 변화 패턴을 정리했습니다. "점진적 개선"이라는 표현은 실제 기록된 변화(160→155→150→145)를 바탕으로 합니다.'
      },
      {
        id: 's08-prac01-p02',
        title: '항목별 추이표',
        template: `위 기록에서 다음 항목별 변화 추이를 표로 정리해주세요:

| 일차 | 수면 | 통증 | 혈압 | 보행 |
|------|------|------|------|------|

표 아래에 각 항목별 변화 패턴을 간단히 분석해주세요.

조건:
- 원문에 있는 정보만 표에 기재
- 변화 패턴은 관찰된 사실만 기술
- 추측이나 해석 금지

[관찰 기록]
{{data}}`,
        promptType: 'convert',
        outputFormat: 'table',
        difficulty: 'basic',
        tags: ['추이분석', '표변환'],
        expectedOutput: `| 일차 | 수면 | 통증 | 혈압 | 보행 |
|------|------|------|------|------|
| 1일차 | 시간 짧음 | 허리 통증 호소 | 160/95 | - |
| 2일차 | 약간 증가 | 지속 | 155/90 | 불안정 지속 |
| 3일차 | 양호 | 표현 감소 | 150/88 | - |
| 4일차 | 양호 유지 | 거의 없음 | 145/85 | 안정성 개선 |

■ 항목별 변화 패턴

[수면]
- 1일차 부족 상태에서 점차 개선되어 3~4일차 양호 상태 유지

[통증]
- 허리 통증이 지속되다가 3일차부터 감소, 4일차에는 거의 호소 없음

[혈압]
- 160/95 → 155/90 → 150/88 → 145/85로 일관된 하강 추이

[보행]
- 2일차 불안정 상태에서 4일차 안정성 개선됨`,
        outputExplanation: '표 형식으로 변환하면 날짜별 변화를 한눈에 비교할 수 있습니다. 혈압처럼 수치가 있는 항목은 구체적인 추이를, 수면이나 통증처럼 기술적인 항목은 표현의 변화를 보여줍니다.'
      }
    ],
    summary: '메모형 기록이 쌓이면 전체 흐름을 파악하기 어렵습니다. AI를 활용하면 항목별로 분류하고 시간순 변화를 한눈에 볼 수 있는 형태로 정리할 수 있습니다.'
  },
  {
    id: 2,
    title: '시나리오 2: 주간 관찰 기록 분석',
    description: '7일간의 장기 관찰 기록을 분석하는 실습입니다. 더 긴 기간의 데이터에서 개선/유지/악화 항목을 구분하고, 주간 리포트 형식으로 변환합니다.',
    dummyDataList: [
      {
        id: 's08-prac02',
        title: '7일간 관찰 기록',
        description: '70대 여성 환자의 7일간 관찰 기록 (당뇨, 어지러움)',
        category: 'nursing',
        format: 'text',
        dataType: 'memo',
        characteristics: '어지러움과 혈당 관리가 주요 관찰 포인트인 환자입니다. 전반적으로 호전 추세를 보이며 퇴원 논의 단계까지 진행됩니다.',
        content: `[환자: 이OO (70대, 여)]

[1일차]
어지러움 호소
오심 있음
혈당 210
낙상 위험 높음
보호자 불안해함

[2일차]
어지러움 지속
혈당 195
식사량 저하
보행 시 보조 필요

[3일차]
어지러움 약간 감소
혈당 180
오심 감소
보행 보조 지속

[4일차]
어지러움 호소 감소
혈당 165
식사량 증가
보호자 안정됨

[5일차]
어지러움 거의 없음
혈당 150
보행 자립 시도
컨디션 양호

[6일차]
어지러움 없음
혈당 145
보행 자립 가능
활동량 증가

[7일차]
상태 안정
혈당 140
식사량 정상
퇴원 논의 예정`
      }
    ],
    prompts: [
      {
        id: 's08-prac02-p01',
        title: '주간 요약 리포트',
        template: `아래는 환자의 1주일간 관찰 기록입니다.
주간 요약 리포트를 작성해주세요.

리포트 구성:
1. 주간 개요 (한 문장)
2. 주요 변화 사항
3. 개선된 점
4. 지속 관찰 필요 사항
5. 다음 주 관찰 포인트

조건:
- 원문 기록에 있는 내용만 사용
- 각 항목은 관찰된 사실만 기술
- 추측이나 예측 금지

[1주일 기록]
{{data}}`,
        promptType: 'summary',
        outputFormat: 'report',
        difficulty: 'intermediate',
        tags: ['주간리포트', '경과요약'],
        expectedOutput: `■ 주간 개요
70대 여성 환자로, 어지러움과 고혈당 상태에서 시작하여 7일간 전반적인 호전을 보임

■ 주요 변화 사항
- 혈당: 210 → 140으로 점진적 감소
- 어지러움: 지속적 호소 → 없음으로 호전
- 보행: 보조 필요 → 자립 가능
- 활동량: 점차 증가

■ 개선된 점
- 어지러움 증상 소실 (6일차부터)
- 혈당 안정화 (140까지 감소)
- 식사량 정상화
- 보행 자립 달성
- 보호자 불안감 해소

■ 지속 관찰 필요 사항
- 혈당 수치 안정 유지 여부
- 보행 시 안정성 유지

■ 다음 주 관찰 포인트
- 퇴원 논의 진행 상황
- 퇴원 후 혈당 관리 계획`,
        outputExplanation: '7일간의 기록을 체계적인 주간 리포트 형식으로 정리했습니다. 혈당 수치 변화(210→140)와 증상 변화(어지러움 호소→없음)가 명확하게 드러납니다.'
      },
      {
        id: 's08-prac02-p02',
        title: '개선/유지/주의 구분',
        template: `위 기록을 바탕으로 다음을 구분해주세요:

■ 개선된 항목
■ 유지되는 항목
■ 주의가 필요한 항목

각 항목에 대해 관찰된 사실을 근거로 제시해주세요.

조건:
- 원문의 변화 내용만 근거로 사용
- "개선" 또는 "악화"는 수치나 상태 변화로만 판단
- 의학적 해석 금지

[관찰 기록]
{{data}}`,
        promptType: 'analyze',
        outputFormat: 'list',
        difficulty: 'intermediate',
        tags: ['상태분석', '경과평가'],
        expectedOutput: `■ 개선된 항목

[어지러움]
- 근거: 1~2일차 "지속 호소" → 5일차 "거의 없음" → 6일차 "없음"
- 변화: 완전 소실

[혈당]
- 근거: 210 → 195 → 180 → 165 → 150 → 145 → 140
- 변화: 70 감소 (약 33% 감소)

[보행 능력]
- 근거: 2~3일차 "보조 필요" → 5일차 "자립 시도" → 6일차 "자립 가능"
- 변화: 의존 → 자립

[식사량]
- 근거: 2일차 "저하" → 4일차 "증가" → 7일차 "정상"
- 변화: 정상화

[오심]
- 근거: 1일차 "있음" → 3일차 "감소" → 4일차 이후 언급 없음
- 변화: 소실

■ 유지되는 항목

[전반적 컨디션]
- 근거: 5일차 "양호" → 7일차 "안정"
- 상태: 양호 유지

■ 주의가 필요한 항목

[낙상 위험]
- 근거: 1일차 "낙상 위험 높음" 언급 후 추적 기록 없음
- 확인 필요: 현재 낙상 위험도 재평가`,
        outputExplanation: '각 항목에 대해 구체적인 근거(원문 인용)와 함께 변화 방향을 제시했습니다. "낙상 위험"처럼 초기에 언급되었지만 이후 추적이 없는 항목도 놓치지 않고 확인이 필요하다고 표시했습니다.'
      }
    ],
    summary: '장기간 기록을 분석할 때는 단순 요약보다 "개선/유지/주의" 구분이 유용합니다. AI가 각 항목별로 근거를 제시하면 인수인계나 회의 자료로 활용하기 좋습니다.'
  },
  {
    id: 3,
    title: '시나리오 3: 악화-호전 패턴 분석',
    description: '상태가 단순히 좋아지는 것이 아니라 악화되었다가 호전되는 패턴을 보이는 기록입니다. AI가 이런 복잡한 패턴을 어떻게 파악하고 시각화하는지 확인합니다.',
    dummyDataList: [
      {
        id: 's08-prac03',
        title: '악화-호전 패턴 기록 (7일)',
        description: '60대 남성 환자의 호흡기 증상 악화 후 호전 패턴',
        category: 'nursing',
        format: 'text',
        dataType: 'memo',
        characteristics: '3일차까지 악화되다가 4일차부터 호전되는 전형적인 악화-호전 패턴입니다. 산소 요구량 변화가 핵심 지표입니다.',
        content: `[환자: 박OO (60대, 남)]

[1일차]
기침 지속
산소포화도 94%
체온 37.2도
호흡 불편감 경미

[2일차]
기침 증가
산소포화도 92%
체온 37.8도
산소 2L 시작

[3일차]
기침 지속
산소포화도 91%
체온 38.2도
산소 3L로 증량
호흡 불편감 증가

[4일차]
기침 감소 시작
산소포화도 93%
체온 37.5도
호흡 불편감 감소

[5일차]
기침 현저히 감소
산소포화도 95%
체온 37.0도
산소 2L로 감량

[6일차]
기침 간헐적
산소포화도 96%
체온 정상
산소 off 시도

[7일차]
기침 거의 없음
산소포화도 97% (room air)
전반적 호전`
      }
    ],
    prompts: [
      {
        id: 's08-prac03-p01',
        title: '패턴 분석 타임라인',
        template: `아래 기록에서 상태 변화 패턴을 분석해주세요.

다음 형식으로 정리:
1. 전체 패턴 요약 (악화기 → 전환점 → 호전기)
2. 핵심 지표별 타임라인
3. 전환점 분석 (언제, 무엇이 변했는지)

조건:
- 원문 데이터만 사용
- 수치는 정확하게 기재
- 인과관계 추측 금지

[관찰 기록]
{{data}}`,
        promptType: 'analyze',
        outputFormat: 'timeline',
        difficulty: 'intermediate',
        tags: ['패턴분석', '타임라인'],
        expectedOutput: `■ 전체 패턴 요약

[악화기: 1~3일차]
- 증상 악화: 기침 증가, 호흡 불편감 증가
- 수치 악화: 산소포화도 94→91%, 체온 37.2→38.2도
- 조치: 산소 0L → 2L → 3L 증량

[전환점: 3~4일차]
- 3일차: 악화 정점 (산소포화도 91%, 체온 38.2도, 산소 3L)
- 4일차: 호전 시작 (기침 감소, 산소포화도 93%, 체온 37.5도)

[호전기: 4~7일차]
- 증상 호전: 기침 현저히 감소 → 거의 없음
- 수치 개선: 산소포화도 93→97%, 체온 정상화
- 조치: 산소 3L → 2L → off

■ 핵심 지표별 타임라인

[산소포화도]
1일차 94% → 2일차 92% → 3일차 91% (최저) → 4일차 93% → 5일차 95% → 6일차 96% → 7일차 97%

[체온]
1일차 37.2 → 2일차 37.8 → 3일차 38.2 (최고) → 4일차 37.5 → 5일차 37.0 → 6일차 정상

[산소 요구량]
1일차 없음 → 2일차 2L → 3일차 3L (최대) → 5일차 2L → 6일차 off 시도 → 7일차 room air

■ 전환점 분석

- 시점: 3일차 → 4일차
- 변화 지표:
  · 기침: "지속" → "감소 시작"
  · 산소포화도: 91% → 93% (2% 상승)
  · 체온: 38.2도 → 37.5도 (0.7도 하강)
  · 호흡 불편감: "증가" → "감소"`,
        outputExplanation: '악화-호전 패턴에서는 "전환점"이 핵심입니다. AI가 3일차 최악 상태와 4일차 호전 시작을 정확히 파악하고, 구체적인 수치 변화로 전환점을 보여줍니다.'
      },
      {
        id: 's08-prac03-p02',
        title: '지표별 시각화 표',
        template: `위 기록에서 핵심 지표 변화를 표와 시각적 표현으로 정리해주세요.

1. 일자별 표 (산소포화도, 체온, 산소요구량, 기침)
2. 각 지표별 변화 방향 표시 (↗ 상승, ↘ 하강, → 유지)
3. 위험 구간 표시 (악화 시기)

조건:
- 원문 수치만 사용
- 간결하게 표현

[관찰 기록]
{{data}}`,
        promptType: 'convert',
        outputFormat: 'table',
        difficulty: 'intermediate',
        tags: ['시각화', '추이표'],
        expectedOutput: `■ 일자별 핵심 지표 변화표

| 일차 | SpO2 | 변화 | 체온 | 변화 | O2 | 기침 |
|------|------|------|------|------|-----|------|
| 1일차 | 94% | - | 37.2 | - | 없음 | 지속 |
| 2일차 | 92% | ↘ | 37.8 | ↗ | 2L | 증가 |
| 3일차 | 91% | ↘ | 38.2 | ↗ | 3L | 지속 |
| 4일차 | 93% | ↗ | 37.5 | ↘ | 3L | 감소 시작 |
| 5일차 | 95% | ↗ | 37.0 | ↘ | 2L | 현저히 감소 |
| 6일차 | 96% | ↗ | 정상 | ↘ | off | 간헐적 |
| 7일차 | 97% | ↗ | - | → | room air | 거의 없음 |

■ 위험 구간 표시

⚠️ 악화 구간: 1~3일차
- 산소포화도 하락 (94% → 91%)
- 체온 상승 (37.2 → 38.2)
- 산소 요구량 증가 (0 → 3L)

✅ 호전 구간: 4~7일차
- 산소포화도 상승 (93% → 97%)
- 체온 정상화
- 산소 이탈 성공

■ 지표별 패턴 요약
- SpO2: ↘↘↗↗↗↗ (V자 패턴)
- 체온: ↗↗↘↘↘→ (역V자 패턴)
- O2: 0→2→3→3→2→off (산형 패턴)`,
        outputExplanation: '화살표와 이모지를 활용해 시각적으로 악화/호전 구간을 구분했습니다. "V자 패턴", "역V자 패턴" 같은 표현으로 전체 추이를 직관적으로 파악할 수 있습니다.'
      }
    ],
    summary: '단순한 호전이 아닌 악화-호전 패턴은 의료진에게 중요한 정보입니다. AI가 전환점을 파악하고 시각화하면 상태 변화를 더 정확하게 공유할 수 있습니다.'
  },
  {
    id: 4,
    title: '시나리오 4: 함정 데이터 (누락과 불일치)',
    description: '실제 기록에서 흔히 발생하는 문제 - 항목 누락, 날짜별 기록 불일치 - 가 있는 데이터입니다. AI가 이런 문제를 감지하고 알려주는지 확인합니다.',
    dummyDataList: [
      {
        id: 's08-prac04',
        title: '누락과 불일치가 있는 기록',
        description: '일부 날짜에 항목이 누락되고 표현이 불일치하는 데이터',
        category: 'nursing',
        format: 'text',
        dataType: 'flawed',
        trapPoints: [
          '2일차: 혈압 기록 누락',
          '3일차: 체온만 기록, 다른 항목 없음',
          '4일차: "식사 잘함" vs 다른 날 "식사량 절반"처럼 표현 불일치',
          '5일차: 갑자기 새로운 증상(두통) 등장하지만 이후 추적 없음'
        ],
        characteristics: '바쁜 근무 중 작성된 것처럼 기록 품질이 일정하지 않습니다. 누락과 불일치를 AI가 감지하는지 확인하는 함정 데이터입니다.',
        content: `[환자: 최OO (75세, 여)]

[1일차]
혈압 150/90
체온 36.8
식사량 절반
수면 불량
의식 명료

[2일차]
체온 37.2
식사량 거의 못 함
수면 짧음
기운 없어 보임

[3일차]
체온 37.5

[4일차]
혈압 145/88
체온 37.0
식사 잘함
수면 양호
두통 호소

[5일차]
혈압 140/85
체온 36.9
식사량 증가
활력 회복됨`
      }
    ],
    prompts: [
      {
        id: 's08-prac04-p01',
        title: '데이터 품질 검증',
        template: `아래 기록을 분석하여 다음을 확인해주세요:

1. 기록 누락 항목 (날짜별로 빠진 항목)
2. 표현 불일치 (같은 항목인데 다른 표현 사용)
3. 추적되지 않은 증상
4. 요약 시 주의사항

조건:
- 누락된 것은 "기록 없음"으로 표시
- 추측으로 채우지 않을 것
- 불일치 항목은 원문 그대로 인용

[관찰 기록]
{{data}}`,
        promptType: 'validate',
        outputFormat: 'checklist',
        difficulty: 'advanced',
        tags: ['데이터검증', '품질확인'],
        expectedOutput: `■ 기록 누락 항목

| 일차 | 혈압 | 체온 | 식사 | 수면 | 의식/상태 |
|------|------|------|------|------|-----------|
| 1일차 | ✓ | ✓ | ✓ | ✓ | ✓ |
| 2일차 | ✗ | ✓ | ✓ | ✓ | ✓ |
| 3일차 | ✗ | ✓ | ✗ | ✗ | ✗ |
| 4일차 | ✓ | ✓ | ✓ | ✓ | - |
| 5일차 | ✓ | ✓ | ✓ | ✗ | ✓ |

⚠️ 주요 누락:
- 2일차: 혈압 기록 없음
- 3일차: 체온만 기록, 나머지 항목 모두 누락
- 5일차: 수면 상태 기록 없음

■ 표현 불일치

[식사 관련]
- 1일차: "식사량 절반"
- 2일차: "식사량 거의 못 함"
- 4일차: "식사 잘함" ← 표현 방식 다름
- 5일차: "식사량 증가"

→ "식사량"으로 통일되지 않고 "식사 잘함"이라는 다른 표현 사용

■ 추적되지 않은 증상

[두통]
- 4일차: "두통 호소" 기록됨
- 5일차: 두통 관련 기록 없음
⚠️ 새로 발생한 증상의 경과 추적 필요

■ 요약 시 주의사항

1. 혈압 추이: 2일차 데이터 누락으로 연속성 확인 불가
2. 3일차: 체온 상승(37.5) 외 상태 파악 어려움
3. 두통: 발생 후 호전/지속 여부 불명
4. 표현 통일: "식사 잘함"을 "식사량 정상" 등으로 해석할 수 있으나 원문 그대로 사용 권장`,
        outputExplanation: 'AI가 누락 항목을 표로 시각화하고, 표현 불일치와 추적되지 않은 증상을 명확히 지적했습니다. 실무에서는 이런 검증 결과를 바탕으로 기록 보완을 요청할 수 있습니다.'
      },
      {
        id: 's08-prac04-p02',
        title: '보완 후 요약 (주의 표시)',
        template: `위 기록을 요약하되, 누락/불확실한 부분을 명확히 표시해주세요.

형식:
1. 요약 (확인 가능한 정보만)
2. 확인 필요 사항 (누락된 정보)
3. 추가 확인 권장 (불일치 항목)

조건:
- 누락된 정보는 추측하지 말고 "[기록 없음]" 표시
- 불확실한 정보는 "[확인 필요]" 표시

[관찰 기록]
{{data}}`,
        promptType: 'summary',
        outputFormat: 'report',
        difficulty: 'advanced',
        tags: ['조건부요약', '불확실성표시'],
        expectedOutput: `■ 요약 (확인 가능한 정보만)

[환자: 최OO, 75세 여]
- 관찰 기간: 5일

[혈압 추이] (2일차 기록 없음)
1일차 150/90 → [2일차 기록 없음] → 4일차 145/88 → 5일차 140/85
→ 확인된 수치로는 하향 추세

[체온 추이]
36.8 → 37.2 → 37.5(최고) → 37.0 → 36.9
→ 3일차 상승 후 정상화

[영양 상태]
절반 → 거의 못 함 → [기록 없음] → 잘함 → 증가
→ 2일차 최저점 후 회복 추세

[전반적 상태]
1일차 명료 → 2일차 기운 없음 → 5일차 활력 회복

■ 확인 필요 사항

□ 2일차 혈압 수치
□ 3일차 전반적 상태 (체온 외 기록 없음)
□ 4일차 두통 발생 → 5일차 경과?
□ 5일차 수면 상태

■ 추가 확인 권장

[두통]
- 4일차 새로 발생했으나 이후 추적 없음
- 호전 여부 확인 필요

[3일차 기록]
- 체온 상승(37.5)만 기록됨
- 당시 다른 증상이나 상태 확인 필요`,
        outputExplanation: '불완전한 데이터를 요약할 때는 "[기록 없음]", "[확인 필요]" 같은 표시를 명확히 해야 합니다. AI가 추측으로 빈칸을 채우지 않고 불확실성을 투명하게 드러냈습니다.'
      }
    ],
    summary: '실제 기록은 완벽하지 않습니다. AI를 활용할 때 누락과 불일치를 먼저 검증하면 잘못된 요약을 방지할 수 있습니다. "없는 정보를 만들어내지 않는 것"이 핵심입니다.'
  },
  {
    id: 5,
    title: '시나리오 5: 대상자별 맞춤 요약',
    description: '같은 기록을 의료진용, 보호자용, 퇴원요약용 등 다른 대상자에게 맞춤 형식으로 변환하는 실습입니다. 대상에 따라 강조점과 표현이 달라집니다.',
    dummyDataList: [
      {
        id: 's08-prac05',
        title: '7일간 종합 관찰 기록',
        description: '입원 환자의 7일간 관찰 기록 (다목적 요약용)',
        category: 'nursing',
        format: 'text',
        dataType: 'role_switch',
        roleTarget: 'caregiver',
        characteristics: '의료진과 보호자 각각에게 필요한 정보가 다릅니다. 같은 기록을 대상자에 맞게 재구성하는 연습입니다.',
        content: `[환자: 정OO (78세, 남)]
[진단명: 폐렴, 고혈압]
[입원일: 2024-01-10]

[1일차 - 1/10]
SpO2 91%, 산소 3L 시작
체온 38.5도
기침 심함, 가래 있음
식사 거의 못 함
보호자 많이 걱정함

[2일차 - 1/11]
SpO2 92%, 산소 3L 유지
체온 38.0도
기침 지속, 가래 노란색
수액 유지 중
보호자 면회 2회

[3일차 - 1/12]
SpO2 93%, 산소 2L로 감량
체온 37.5도
기침 조금 감소
죽 2/3 섭취
침상에서 좌위 유지

[4일차 - 1/13]
SpO2 94%, 산소 2L 유지
체온 37.2도
가래 양 감소, 색 연해짐
밥 1/2 섭취
화장실 보조 하에 이동

[5일차 - 1/14]
SpO2 95%, 산소 1L로 감량
체온 정상
기침 간헐적
밥 2/3 섭취
병실 내 보행 가능

[6일차 - 1/15]
SpO2 96%, room air 시도
기침 거의 없음
식사량 정상화
복도 보행 가능
보호자 안심함

[7일차 - 1/16]
SpO2 97% (room air 유지)
전반적 호전
활동량 증가
퇴원 예정일 논의`
      }
    ],
    prompts: [
      {
        id: 's08-prac05-p01',
        title: '다학제 회의용 요약',
        template: `아래 환자 기록을 다학제 회의(팀 컨퍼런스)에서 발표할 수 있는 형식으로 요약해주세요.

발표 시간: 2분 이내
포함 내용:
- 환자 개요 (한 줄)
- 입원 당시 상태
- 주요 변화 사항
- 현재 상태
- 논의 필요 사항

조건:
- 원문 기록만 사용
- 간결하고 명확하게
- 의학적 판단이나 추측 금지

[환자 기록]
{{data}}`,
        promptType: 'convert',
        outputFormat: 'report',
        difficulty: 'intermediate',
        tags: ['회의용', '의료진용'],
        expectedOutput: `■ 환자 개요
정OO, 78세 남성, 폐렴 및 고혈압으로 1/10 입원, 7일차

■ 입원 당시 상태 (1일차)
- SpO2 91%, 산소 3L 필요
- 체온 38.5도
- 기침 심함, 가래 있음
- 식사 거의 불가

■ 주요 변화 사항 (7일간)

[호흡기]
- SpO2: 91% → 97% (room air)
- 산소: 3L → room air (6일차부터)
- 기침: 심함 → 거의 없음
- 가래: 노란색 → 양 감소, 색 연해짐

[활력징후]
- 체온: 38.5 → 정상 (5일차부터)

[기능 상태]
- 식사: 거의 못 함 → 정상화
- 활동: 침상 안정 → 복도 보행 가능

■ 현재 상태 (7일차)
- SpO2 97% room air 유지
- 전반적 호전
- 복도 보행, 식사 정상
- 활동량 증가

■ 논의 필요 사항
- 퇴원 예정일 결정
- 퇴원 후 관리 계획`,
        outputExplanation: '다학제 회의용은 객관적 수치 변화와 기능적 상태 변화에 초점을 맞춥니다. 2분 이내 발표를 위해 핵심 지표 위주로 간결하게 정리했습니다.'
      },
      {
        id: 's08-prac05-p02',
        title: '보호자 설명용 요약',
        template: `위 기록을 보호자에게 설명할 때 사용할 요약을 작성해주세요.

포함 내용:
- 현재 상태 (쉬운 말로)
- 좋아진 점
- 앞으로 계획
- 보호자가 도와줄 수 있는 것

조건:
- 의학 용어 최소화
- 보호자 관점에서 중요한 정보 중심
- 안심할 수 있는 객관적 사실 위주
- 과장이나 단정적 표현 금지

[환자 기록]
{{data}}`,
        promptType: 'convert',
        outputFormat: 'text',
        difficulty: 'intermediate',
        tags: ['보호자용', '쉬운설명'],
        expectedOutput: `■ 현재 상태

아버님께서 7일 전 입원하셨을 때보다 많이 좋아지셨습니다.
처음에는 숨쉬기가 힘들어서 산소를 틀어드렸는데, 지금은 산소 없이도 잘 유지되고 계세요.
열도 처음에는 38도가 넘었는데 지금은 정상으로 돌아왔고요.

■ 좋아진 점

1. 호흡: 처음엔 산소가 필요했는데 → 지금은 산소 없이 괜찮으세요
2. 열: 38.5도 → 정상
3. 기침: 처음에 심했는데 → 지금은 거의 안 하세요
4. 식사: 처음엔 거의 못 드셨는데 → 지금은 정상적으로 드세요
5. 활동: 처음엔 누워만 계셨는데 → 지금은 복도도 걸어 다니세요

■ 앞으로 계획

- 퇴원 날짜를 정할 예정입니다
- 의료진이 퇴원 후 관리 방법을 안내해드릴 거예요

■ 보호자분이 도와주실 수 있는 것

- 식사 시간에 함께하시면 아버님께서 더 잘 드실 수 있어요
- 복도 산책 시 옆에서 같이 걸어주시면 좋습니다
- 궁금한 점이 있으면 언제든 담당 간호사에게 물어봐 주세요`,
        outputExplanation: '보호자용은 의학 용어를 쉬운 말로 바꾸고, "좋아진 점"을 명확히 전달합니다. SpO2 대신 "숨쉬기", "산소 필요" 같은 표현을 사용했습니다.'
      },
      {
        id: 's08-prac05-p03',
        title: '퇴원 요약 초안',
        template: `아래는 환자의 입원 기간 전체 관찰 기록입니다.
퇴원 요약 초안을 작성해주세요.

구성:
1. 환자 정보
2. 입원 당시 상태
3. 입원 기간 중 경과
4. 퇴원 시 상태
5. 퇴원 후 관찰 사항

조건:
- 의료적 판단이나 진단은 포함하지 말 것
- 간호 관찰 내용만 정리
- 원문에 있는 사실만 사용

[입원 기간 기록]
{{data}}`,
        promptType: 'generate',
        outputFormat: 'report',
        difficulty: 'advanced',
        tags: ['퇴원요약', '공식문서'],
        expectedOutput: `┌─────────────────────────────────────────────────────┐
│                    퇴원 요약 (간호)                  │
├─────────────────────────────────────────────────────┤
│ 환자명: 정OO                                         │
│ 나이/성별: 78세 / 남                                 │
│ 진단명: 폐렴, 고혈압                                 │
│ 입원일: 2024-01-10                                   │
│ 퇴원예정일: 논의 중                                  │
│ 입원 기간: 7일                                       │
├─────────────────────────────────────────────────────┤
│ ■ 입원 당시 상태                                     │
│                                                      │
│ - 산소포화도: 91% (산소 3L 시작)                     │
│ - 체온: 38.5도                                       │
│ - 호흡기 증상: 기침 심함, 가래 있음                  │
│ - 영양: 식사 거의 불가                               │
│ - 활동: 침상 안정                                    │
├─────────────────────────────────────────────────────┤
│ ■ 입원 중 경과                                       │
│                                                      │
│ [호흡기]                                             │
│ - 산소: 3L→2L→1L→room air (점진적 감량)             │
│ - SpO2: 91%→97% (room air 유지)                     │
│ - 기침/가래: 점진적 감소                             │
│                                                      │
│ [활력징후]                                           │
│ - 체온: 5일차부터 정상화                             │
│                                                      │
│ [기능 회복]                                          │
│ - 식사: 7일차 정상화                                 │
│ - 활동: 복도 보행 가능                               │
├─────────────────────────────────────────────────────┤
│ ■ 퇴원 시 상태                                       │
│                                                      │
│ - 산소포화도: 97% (room air)                         │
│ - 체온: 정상                                         │
│ - 호흡기: 기침 거의 없음                             │
│ - 식사: 정상                                         │
│ - 활동: 복도 보행 가능, 활동량 증가                  │
│ - 전반적: 호전                                       │
├─────────────────────────────────────────────────────┤
│ ■ 퇴원 후 관찰 사항                                  │
│                                                      │
│ - 호흡 상태 (기침, 가래 재발 여부)                   │
│ - 발열 여부                                          │
│ - 식사량 및 활동량 유지                              │
└─────────────────────────────────────────────────────┘`,
        outputExplanation: '퇴원 요약은 공식 문서 형식으로, 입원-경과-퇴원-추후관찰의 구조를 갖춥니다. 간호 관찰 기록만 포함하고 의료적 판단은 제외했습니다.'
      }
    ],
    summary: '같은 기록도 대상에 따라 다르게 요약해야 합니다. 의료진에게는 객관적 수치, 보호자에게는 쉬운 말로, 퇴원문서에는 공식 형식으로 변환하는 연습이 중요합니다.'
  },
  {
    id: 6,
    title: '시나리오 6: 종합 실습 - JSON 데이터 활용',
    description: '구조화된 JSON 형식의 데이터를 다양한 형식으로 변환하는 종합 실습입니다. JSON 데이터의 장점을 활용하여 정확한 추이 분석과 시각화를 수행합니다.',
    dummyDataList: [
      {
        id: 's08-prac06',
        title: '구조화된 관찰 기록 (JSON)',
        description: 'JSON 형식의 4일간 환자 관찰 데이터',
        category: 'patient',
        format: 'json',
        dataType: 'memo',
        characteristics: 'JSON 형식은 항목이 명확히 구분되어 있어 누락 확인이 쉽고, 수치 비교가 정확합니다. AI가 구조화된 데이터를 어떻게 활용하는지 확인합니다.',
        content: `{
  "patient_info": {
    "name": "김OO",
    "age": "80대",
    "gender": "남",
    "admission_diagnosis": "허리 통증, 고혈압"
  },
  "daily_records": [
    {
      "day": 1,
      "date": "2024-01-15",
      "sleep": "부족",
      "pain": "허리 통증 지속 호소",
      "vital_signs": {"BP": "160/95"},
      "nutrition": "식사량 절반 이하",
      "mobility": "보행 불안정"
    },
    {
      "day": 2,
      "date": "2024-01-16",
      "sleep": "약간 증가",
      "pain": "통증 지속",
      "vital_signs": {"BP": "155/90"},
      "nutrition": "",
      "mobility": "보행 불안정 지속"
    },
    {
      "day": 3,
      "date": "2024-01-17",
      "sleep": "양호",
      "pain": "통증 표현 감소",
      "vital_signs": {"BP": "150/88"},
      "nutrition": "식사량 다소 증가",
      "mobility": ""
    },
    {
      "day": 4,
      "date": "2024-01-18",
      "sleep": "양호 유지",
      "pain": "통증 거의 호소 안 함",
      "vital_signs": {"BP": "145/85"},
      "nutrition": "",
      "mobility": "보행 안정성 개선"
    }
  ]
}`
      }
    ],
    prompts: [
      {
        id: 's08-prac06-p01',
        title: '데이터 검증 및 요약',
        template: `아래 JSON 형식의 환자 기록을 분석해주세요.

1. 데이터 품질 검증
   - 빈 필드 확인
   - 기록 일관성 확인

2. 상태 요약
   - 초기 상태
   - 변화 추이
   - 현재 상태

3. 주요 지표 변화표

조건:
- JSON 구조를 활용하여 정확히 분석
- 빈 필드("")는 "기록 없음"으로 표시
- 수치는 정확히 인용

[JSON 데이터]
{{data}}`,
        promptType: 'analyze',
        outputFormat: 'report',
        difficulty: 'advanced',
        tags: ['JSON분석', '종합요약'],
        expectedOutput: `■ 데이터 품질 검증

[환자 정보]
✓ 이름: 김OO
✓ 나이: 80대
✓ 성별: 남
✓ 진단: 허리 통증, 고혈압

[일별 기록 검증]
| 일차 | sleep | pain | BP | nutrition | mobility |
|------|-------|------|-----|-----------|----------|
| 1일차 | ✓ | ✓ | ✓ | ✓ | ✓ |
| 2일차 | ✓ | ✓ | ✓ | ✗ (빈값) | ✓ |
| 3일차 | ✓ | ✓ | ✓ | ✓ | ✗ (빈값) |
| 4일차 | ✓ | ✓ | ✓ | ✗ (빈값) | ✓ |

⚠️ 누락 항목:
- 2일차: nutrition 기록 없음
- 3일차: mobility 기록 없음
- 4일차: nutrition 기록 없음

■ 상태 요약

[초기 상태 - 1일차]
- 수면: 부족
- 통증: 허리 통증 지속 호소
- 혈압: 160/95
- 영양: 식사량 절반 이하
- 이동: 보행 불안정

[변화 추이]
- 수면: 부족 → 약간 증가 → 양호 → 양호 유지 (개선)
- 통증: 지속 호소 → 지속 → 표현 감소 → 거의 없음 (개선)
- 혈압: 160/95 → 155/90 → 150/88 → 145/85 (지속 하강)
- 이동: 불안정 → 불안정 지속 → [기록 없음] → 안정성 개선 (개선 추정)

[현재 상태 - 4일차]
- 수면: 양호 유지
- 통증: 거의 호소 안 함
- 혈압: 145/85
- 이동: 보행 안정성 개선

■ 주요 지표 변화표

| 일차 | 혈압 | 수축기 변화 | 통증 | 수면 |
|------|------|-------------|------|------|
| 1일차 | 160/95 | - | 지속 호소 | 부족 |
| 2일차 | 155/90 | -5 | 지속 | 약간 증가 |
| 3일차 | 150/88 | -5 | 표현 감소 | 양호 |
| 4일차 | 145/85 | -5 | 거의 없음 | 양호 유지 |

→ 수축기 혈압: 일 평균 5mmHg씩 하강, 총 15mmHg 감소`,
        outputExplanation: 'JSON 형식 데이터는 필드가 명확해서 누락 검증이 용이합니다. AI가 빈 문자열("")을 감지하여 누락으로 표시하고, 구조화된 데이터를 활용해 정확한 수치 비교를 수행했습니다.'
      },
      {
        id: 's08-prac06-p02',
        title: '다양한 출력 형식 변환',
        template: `위 JSON 데이터를 다음 세 가지 형식으로 변환해주세요:

1. 마크다운 표 형식
2. 텍스트 요약 (3문장 이내)
3. SBAR 형식 (간단히)

조건:
- 각 형식의 특성에 맞게 변환
- 원본 데이터의 정보만 사용

[JSON 데이터]
{{data}}`,
        promptType: 'convert',
        outputFormat: 'report',
        difficulty: 'advanced',
        tags: ['형식변환', '멀티포맷'],
        expectedOutput: `■ 1. 마크다운 표 형식

### 환자: 김OO (80대 남) - 허리 통증, 고혈압

| 일차 | 날짜 | 수면 | 통증 | 혈압 | 식사 | 보행 |
|------|------|------|------|------|------|------|
| 1 | 1/15 | 부족 | 지속 호소 | 160/95 | 절반 이하 | 불안정 |
| 2 | 1/16 | 약간↑ | 지속 | 155/90 | - | 불안정 |
| 3 | 1/17 | 양호 | 감소 | 150/88 | 다소↑ | - |
| 4 | 1/18 | 양호 | 거의 없음 | 145/85 | - | 개선 |

---

■ 2. 텍스트 요약 (3문장)

80대 남성 환자 김OO씨는 허리 통증과 고혈압으로 4일간 관찰되었습니다. 혈압은 160/95에서 145/85로 지속적으로 하강했고, 통증 호소도 점차 감소하여 4일차에는 거의 없는 상태입니다. 수면과 보행 안정성 모두 개선되어 전반적인 호전 추세를 보이고 있습니다.

---

■ 3. SBAR 형식

**S (Situation)**
김OO, 80대 남, 허리 통증 및 고혈압 환자, 입원 4일차

**B (Background)**
- 입원 시: BP 160/95, 허리 통증 지속, 수면 부족, 보행 불안정
- 치료 중 관찰 진행

**A (Assessment)**
- 혈압: 160/95 → 145/85 (15/10 감소)
- 통증: 지속 호소 → 거의 없음
- 보행: 불안정 → 안정성 개선
- 전반적 호전 추세

**R (Recommendation)**
- 혈압 추이 지속 관찰
- 보행 시 낙상 주의 유지
- 식사량 기록 보완 필요`,
        outputExplanation: '같은 데이터를 표, 텍스트, SBAR 세 가지 형식으로 변환했습니다. 표는 한눈에 비교, 텍스트는 빠른 파악, SBAR은 의료 커뮤니케이션에 최적화된 형식입니다.'
      }
    ],
    summary: 'JSON 같은 구조화된 데이터는 AI가 더 정확하게 분석할 수 있습니다. 데이터 형식에 맞는 검증 방법을 적용하고, 목적에 따라 다양한 출력 형식으로 변환하는 연습을 했습니다.'
  }
];
