import { PracticeScenario } from '../../types';

export const practiceScenarios: PracticeScenario[] = [
  {
    id: 1,
    title: '시나리오 1: 비공식 메모 → 정식 SOP 변환',
    description: '구어체로 작성된 비공식 업무 설명을 정식 SOP 문서 형식으로 변환하는 실습입니다. 모호한 표현을 구체적 기준으로 바꾸는 것이 핵심입니다.',
    dummyDataList: [
      {
        id: 's11-prac01',
        title: '활력징후 측정 비공식 메모',
        description: '선배가 알려준 업무 설명 메모',
        category: 'sop',
        format: 'text',
        dataType: 'memo',
        characteristics: '"보통", "많이 다르면" 같은 모호한 표현이 많습니다. SOP로 변환하려면 구체적 기준이 필요합니다.',
        content: `[업무 설명 메모 - 활력징후 측정]

입원 환자 활력징후 측정은 보통 아침, 점심, 저녁에 한다.
혈압, 맥박, 체온을 기본으로 측정한다.
수치가 평소보다 많이 다르면 기록하고 보고한다.
환자가 어지럽다고 하면 바로 확인한다.
측정 전에 환자가 안정된 상태인지 확인하는 게 좋다.
측정 후에는 바로 기록한다.`
      },
      {
        id: 's11-prac01-d2',
        title: '혈당 측정 비공식 메모',
        description: '당뇨 환자 혈당 측정 관련 업무 설명',
        category: 'sop',
        format: 'text',
        dataType: 'memo',
        characteristics: '"높으면", "낮으면" 등 수치 기준이 모호하고 응급 처치 절차가 불명확합니다.',
        content: `[업무 설명 메모 - 혈당 측정]

당뇨 환자 혈당은 식전, 식후에 측정한다.
혈당이 높으면 인슐린 투여 고려한다.
혈당이 낮으면 주스나 사탕 먹게 한다.
손가락 끝을 소독하고 채혈한다.
측정값은 기록지에 적고, 이상하면 의사에게 보고한다.
환자가 어지럽거나 땀 많이 나면 혈당 확인해본다.`
      },
      {
        id: 's11-prac01-d3',
        title: '수액 관리 비공식 메모',
        description: '정맥 주입 수액 관리 업무 설명',
        category: 'sop',
        format: 'text',
        dataType: 'memo',
        characteristics: '"제대로", "이상 있으면" 등 구체적 기준 없이 작성되어 있습니다.',
        content: `[업무 설명 메모 - 수액 관리]

수액은 처방대로 맞게 주입되는지 확인한다.
라인이 꺾이거나 막히지 않았는지 본다.
주입 부위가 붓거나 빨개지면 보고한다.
수액 교환 시간 확인하고 제때 교환한다.
수액 속도가 너무 빠르거나 느리면 조절한다.
환자가 불편하다고 하면 확인해본다.`
      }
    ],
    prompts: [
      {
        id: 's11-prac01-p01',
        title: '모호한 표현 식별',
        template: `아래 업무 설명 메모에서 SOP로 변환할 때 구체화가 필요한 모호한 표현을 식별해주세요.

분석 항목:
1. 모호한 표현 목록
2. 각 표현이 모호한 이유
3. 구체화 제안 (예시 수치/기준)

[업무 메모]
{{data}}`,
        promptType: 'analyze',
        outputFormat: 'list',
        difficulty: 'basic',
        tags: ['모호성분석', 'SOP준비'],
        expectedOutput: `■ 모호한 표현 분석

| 모호한 표현 | 모호한 이유 | 구체화 제안 |
|-------------|-------------|-------------|
| "보통 아침, 점심, 저녁" | 정확한 시간 미명시 | "08:00, 12:00, 18:00" 또는 "1일 3회, 식전" |
| "혈압, 맥박, 체온을 기본으로" | 산소포화도 등 누락 여부 불명확 | "혈압, 맥박, 호흡, 체온, SpO2" 명시 |
| "평소보다 많이 다르면" | "많이"의 기준 없음 | 구체적 수치 범위 제시 (예: BP>180 or <90) |
| "바로 확인한다" | "바로"의 정의 없음 | "즉시" 또는 "5분 이내" |
| "안정된 상태" | 안정의 기준 없음 | "5분 이상 안정, 식후 30분 이상 경과" |
| "바로 기록한다" | 기록 시점 모호 | "측정 직후", "다음 환자 방문 전" |

■ 추가 확인 필요 사항

1. 측정 빈도 예외 상황
   - 고위험 환자의 측정 빈도는?
   - 수술 후 환자는?

2. 이상 수치 보고 기준
   - 구체적인 수치 범위 필요
   - 보고 대상(담당의, 수간호사 등) 명시 필요

3. 기록 방법
   - EMR 기록인지, 별도 기록지인지`,
        outputExplanation: 'AI가 각 모호한 표현의 문제점과 구체화 방안을 제시했습니다. "많이 다르면"은 실무에서 혼란을 줄 수 있어 수치 기준이 필요합니다.'
      },
      {
        id: 's11-prac01-p02',
        title: '정식 SOP 문서 작성',
        template: `위 분석을 바탕으로 정식 SOP 문서를 작성해주세요.

SOP 문서 구성:
1. 문서 정보 (문서번호, 제정일, 버전)
2. 목적
3. 적용 범위
4. 정의 (필요시)
5. 준비물
6. 절차 (단계별)
7. 주의사항
8. 이상 시 조치
9. 기록

조건:
- 모호한 표현은 구체적 기준으로
- 단계별 명확한 행동 지시
- 측정 가능한 기준 포함

[업무 메모]
{{data}}`,
        promptType: 'convert',
        outputFormat: 'report',
        difficulty: 'intermediate',
        tags: ['SOP작성', '표준문서'],
        expectedOutput: `━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
    활력징후 측정 표준작업지침 (SOP)
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

문서번호: SOP-NUR-001
제정일: 2024-01-01
개정일: -
버전: v1.0

■ 1. 목적
입원 환자의 활력징후를 정확하게 측정하고 기록하여
환자 상태 변화를 조기에 파악한다.

■ 2. 적용 범위
- 대상: 모든 입원 환자
- 시점: 정규 측정 및 필요 시
- 담당: 담당 간호사

■ 3. 정의
- 활력징후: 혈압(BP), 맥박(PR), 호흡(RR), 체온(BT), 산소포화도(SpO2)
- 정규 측정: 1일 3회 (08:00, 12:00, 18:00)

■ 4. 준비물
- 혈압계 (전자식 또는 수동식)
- 체온계
- 산소포화도 측정기
- 기록지 또는 EMR 접근 기기

■ 5. 절차

[측정 전]
1. 손 위생을 시행한다.
2. 환자 본인 확인 (이름, 생년월일)
3. 환자에게 활력징후 측정을 설명한다.
4. 환자가 5분 이상 안정된 상태인지 확인한다.
   - 운동, 식사, 흡연 직후가 아닌지 확인
   - 필요시 5분간 안정 후 측정

[측정]
5. 혈압을 측정한다.
   - 앉은 자세 또는 누운 자세
   - 심장 높이에 커프 위치
6. 맥박을 측정한다. (분당 횟수)
7. 호흡을 측정한다. (분당 횟수)
8. 체온을 측정한다.
9. 산소포화도를 측정한다.

[측정 후]
10. 측정값을 즉시 EMR에 기록한다.
11. 이상 수치 여부를 확인한다.
12. 환자에게 결과를 설명한다. (필요시)

■ 6. 이상 수치 기준 및 조치

| 항목 | 이상 기준 | 조치 |
|------|----------|------|
| 혈압 | SBP>180 또는 <90 | 즉시 보고 |
|      | DBP>110 또는 <60 | 즉시 보고 |
| 맥박 | >120 또는 <50 | 즉시 보고 |
| 호흡 | >24 또는 <10 | 즉시 보고 |
| 체온 | >38.0 또는 <35.5 | 즉시 보고 |
| SpO2 | <94% | 즉시 보고 |

※ 보고 대상: 담당 의사 및 수간호사

■ 7. 주의사항
- 환자 호소 시 정규 시간 외에도 즉시 측정
- 이상 수치 시 재측정 후 보고
- 측정 장비는 정기적으로 교정 상태 확인

■ 8. 관련 문서
- 환자 상태 보고 지침
- EMR 기록 매뉴얼

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
작성자: ___  검토자: ___  승인자: ___`,
        outputExplanation: '"보통"이 "1일 3회 (08:00, 12:00, 18:00)"로, "많이 다르면"이 구체적 수치 기준(BP>180 등)으로 변환되었습니다. 측정 가능하고 명확한 기준이 SOP의 핵심입니다.'
      }
    ],
    summary: 'SOP 변환의 핵심은 "모호함 제거"입니다. "보통", "바로", "많이" 같은 표현을 수치, 시간, 기준으로 구체화해야 누구나 동일하게 수행할 수 있습니다.'
  },
  {
    id: 2,
    title: '시나리오 2: SOP → 실무용 체크리스트 변환',
    description: '상세한 SOP를 실무에서 바로 사용할 수 있는 간단한 체크리스트로 변환하는 실습입니다. 핵심만 추출하여 현장에서 빠르게 확인할 수 있게 합니다.',
    dummyDataList: [
      {
        id: 's11-prac02',
        title: '경구 투약 업무 메모',
        description: '경구 투약 관련 업무 설명',
        category: 'sop',
        format: 'text',
        dataType: 'memo',
        characteristics: '5 Rights, 환자 확인, 이상반응 관찰 등 중요한 내용이 있지만 체계적이지 않습니다.',
        content: `[업무 설명 메모 - 경구 투약]

투약 전에 처방을 확인한다.
5 Rights를 확인한다고 하는데, 환자, 약, 용량, 경로, 시간이다.
약 줄 때 환자한테 이름이랑 생년월일 물어본다.
약 먹는 거 확인하고 기록한다.
삼키기 어려운 환자는 따로 확인해야 한다.
투약 후에 이상반응 있는지 본다.`
      },
      {
        id: 's11-prac02-d2',
        title: '수혈 관리 업무 메모',
        description: '수혈 전/중/후 확인 사항 업무 설명',
        category: 'sop',
        format: 'text',
        dataType: 'memo',
        characteristics: '수혈 시 중요한 확인 사항들이 있지만 체크리스트 형식으로 정리되지 않았습니다.',
        content: `[업무 설명 메모 - 수혈]

수혈 전에 혈액형 확인하고 교차시험 결과 확인한다.
환자 팔찌랑 혈액백 라벨 대조한다.
수혈 시작 전에 활력징후 측정한다.
처음 15분은 천천히 주입하면서 부작용 관찰한다.
발열, 오한, 발진 등 이상반응 주의한다.
수혈 중에도 활력징후 계속 확인한다.
수혈 끝나면 기록하고 혈액백은 규정대로 보관한다.`
      },
      {
        id: 's11-prac02-d3',
        title: '욕창 관리 업무 메모',
        description: '욕창 드레싱 및 관리 업무 설명',
        category: 'sop',
        format: 'text',
        dataType: 'memo',
        characteristics: '욕창 사정, 드레싱, 보고 내용이 있지만 체계적인 절차가 아닙니다.',
        content: `[업무 설명 메모 - 욕창 관리]

욕창 부위 매일 관찰해서 상태 변화 확인한다.
드레싱은 상태에 따라 교환한다.
삼출물 양이랑 색깔 기록한다.
주변 피부 상태도 같이 확인한다.
악화되면 의사에게 보고하고 처방 받는다.
영양 상태랑 체위 변경도 같이 신경 쓴다.
욕창 사정 도구로 점수 기록한다.`
      }
    ],
    prompts: [
      {
        id: 's11-prac02-p01',
        title: '포켓 체크리스트 생성',
        template: `아래 경구 투약 업무 내용을 실무에서 바로 사용할 수 있는 포켓 체크리스트로 변환해주세요.

조건:
- 명함 크기 또는 작은 카드 크기
- 체크박스 형식
- 단계별 핵심만 추출
- 현장에서 빠르게 확인 가능

[업무 메모]
{{data}}`,
        promptType: 'convert',
        outputFormat: 'checklist',
        difficulty: 'basic',
        tags: ['포켓카드', '체크리스트'],
        expectedOutput: `┌─────────────────────────────────────┐
│    💊 경구 투약 체크리스트          │
├─────────────────────────────────────┤
│                                     │
│  [투약 전]                          │
│  □ 처방 확인                        │
│  □ 5 Rights 확인:                   │
│     ✓ 환자 (Right Patient)         │
│     ✓ 약물 (Right Drug)            │
│     ✓ 용량 (Right Dose)            │
│     ✓ 경로 (Right Route)           │
│     ✓ 시간 (Right Time)            │
│                                     │
│  [환자 확인]                        │
│  □ 이름 확인                        │
│  □ 생년월일 확인                    │
│  □ 삼킴 능력 확인                   │
│                                     │
│  [투약]                             │
│  □ 복용 직접 확인                   │
│  □ EMR 기록                         │
│                                     │
│  [투약 후]                          │
│  □ 이상반응 관찰                    │
│                                     │
├─────────────────────────────────────┤
│  ⚠️ 이상 시: 즉시 보고!             │
└─────────────────────────────────────┘`,
        outputExplanation: '상세한 설명을 단계별 체크박스로 변환했습니다. 5 Rights를 시각적으로 구분하고, 투약 전/환자확인/투약/투약후로 단계를 나눴습니다.'
      },
      {
        id: 's11-prac02-p02',
        title: '특수상황 포함 체크리스트',
        template: `위 체크리스트에 특수 상황(삼킴 곤란, 연하장애)에 대한 추가 확인 사항을 포함해주세요.

추가 조건:
- 특수 상황 체크 항목 별도 구분
- 필요 시 확인해야 할 사항
- 대안적 조치 안내

[업무 메모]
{{data}}`,
        promptType: 'generate',
        outputFormat: 'checklist',
        difficulty: 'intermediate',
        tags: ['특수상황', '연하장애'],
        expectedOutput: `┌─────────────────────────────────────┐
│    💊 경구 투약 체크리스트          │
│       (특수상황 포함)               │
├─────────────────────────────────────┤
│                                     │
│  [투약 전]                          │
│  □ 처방 확인                        │
│  □ 5 Rights 확인                    │
│     □ 환자  □ 약물  □ 용량         │
│     □ 경로  □ 시간                  │
│                                     │
│  [환자 확인]                        │
│  □ 이름 + 생년월일                  │
│  □ 삼킴 능력 확인 ← 중요!          │
│                                     │
├─────────────────────────────────────┤
│  ⚠️ 삼킴 곤란 환자 확인             │
├─────────────────────────────────────┤
│                                     │
│  □ 연하장애 여부 확인               │
│    (EMR, 인계 내용)                 │
│                                     │
│  □ 삼킴 곤란 시 조치:               │
│    □ 분쇄 가능 약물인지 확인        │
│    □ 의사에게 제형 변경 요청        │
│      (시럽, 분쇄, 주사 등)          │
│    □ 물과 함께 천천히 투여          │
│                                     │
│  □ 연하장애 환자:                   │
│    □ 좌위 또는 반좌위 유지          │
│    □ 소량의 물로 시험 삼킴          │
│    □ 투약 후 30분 좌위 유지         │
│                                     │
├─────────────────────────────────────┤
│  [투약]                             │
│  □ 복용 직접 확인                   │
│  □ EMR 기록                         │
│                                     │
│  [투약 후]                          │
│  □ 이상반응 관찰                    │
│  □ 흡인 증상 관찰                   │
│    (기침, 청색증, 호흡곤란)         │
│                                     │
├─────────────────────────────────────┤
│  ⚠️ 이상 시: 즉시 투약 중단 & 보고  │
└─────────────────────────────────────┘`,
        outputExplanation: '삼킴 곤란과 연하장애 환자에 대한 별도 체크 항목을 추가했습니다. 분쇄 가능 여부 확인, 자세 유지, 흡인 증상 관찰 등 안전 관련 항목을 포함했습니다.'
      }
    ],
    summary: '체크리스트는 "핵심 행동만 추출"이 핵심입니다. 상세 설명은 SOP에, 체크리스트에는 확인 항목만 담습니다. 특수 상황도 별도 구분하여 포함하면 더 실용적입니다.'
  },
  {
    id: 3,
    title: '시나리오 3: 복합 업무 체계화 (욕창 예방)',
    description: '여러 행동이 연결된 복합 업무(체위 변경 + 피부 관찰 + 기록)를 체계적인 SOP로 정리하는 실습입니다.',
    dummyDataList: [
      {
        id: 's11-prac03',
        title: '체위 변경 업무 메모',
        description: '욕창 예방을 위한 체위 변경 업무',
        category: 'sop',
        format: 'text',
        dataType: 'memo',
        characteristics: '체위 변경, 피부 관찰, 보조기구 사용, 기록이 연결된 복합 업무입니다.',
        content: `[업무 설명 메모 - 체위 변경]

욕창 예방을 위해 체위 변경을 한다.
보통 2시간마다 하는데, 환자 상태에 따라 다르다.
왼쪽, 오른쪽, 바로 누운 자세를 번갈아 한다.
피부 상태도 같이 확인한다.
베개나 쿠션으로 압력 부위를 보호한다.
기록지에 시간이랑 자세를 적는다.`
      },
      {
        id: 's11-prac03-d2',
        title: '흡인 간호 업무 메모',
        description: '기관 내 흡인 관련 복합 업무',
        category: 'sop',
        format: 'text',
        dataType: 'memo',
        characteristics: '기관 내 흡인의 준비, 시행, 관찰이 연결된 복합 업무입니다.',
        content: `[업무 설명 메모 - 흡인 간호]

분비물 많거나 기침 약한 환자한테 흡인한다.
흡인 전에 산소포화도 확인한다.
멸균 카테터로 하고, 한 번 사용하면 버린다.
너무 오래 하면 안 된다. 15초 이내로 한다.
흡인 중에 환자 상태 계속 관찰한다.
분비물 양이랑 색깔 기록한다.
끝나면 산소포화도 다시 확인한다.`
      },
      {
        id: 's11-prac03-d3',
        title: '산소 요법 업무 메모',
        description: '산소 투여 관련 복합 업무',
        category: 'sop',
        format: 'text',
        dataType: 'memo',
        characteristics: '산소 투여 준비, 적용, 모니터링이 연결된 복합 업무입니다.',
        content: `[업무 설명 메모 - 산소 요법]

산소포화도 떨어지면 산소 투여한다.
처방에 따라 L/분 맞춰서 투여한다.
캐뉼라는 코에 넣고, 마스크는 입코 덮는다.
습도 유지해야 하니까 증류수 확인한다.
피부가 눌리지 않게 주의한다.
산소포화도 수시로 확인해서 기록한다.
상태 변화 있으면 보고한다.`
      }
    ],
    prompts: [
      {
        id: 's11-prac03-p01',
        title: '업무 흐름도 작성',
        template: `아래 체위 변경 업무를 흐름도(Flow Chart) 형식으로 정리해주세요.

포함 사항:
- 주요 단계
- 의사결정 포인트 (조건부 분기)
- 예외 상황 처리
- 기록 시점

[업무 메모]
{{data}}`,
        promptType: 'convert',
        outputFormat: 'text',
        difficulty: 'intermediate',
        tags: ['흐름도', '프로세스'],
        expectedOutput: `■ 체위 변경 업무 흐름도

┌─────────────────────────────────────────────────────────┐
│                      시작                               │
└───────────────────────┬─────────────────────────────────┘
                        ↓
┌─────────────────────────────────────────────────────────┐
│              손 위생 시행                               │
└───────────────────────┬─────────────────────────────────┘
                        ↓
┌─────────────────────────────────────────────────────────┐
│         환자 상태 및 현재 자세 확인                     │
└───────────────────────┬─────────────────────────────────┘
                        ↓
              ┌─────────────────┐
              │ 욕창 고위험군?  │
              └────────┬────────┘
           예 ↙         ↘ 아니오
    ┌──────────────┐  ┌──────────────┐
    │ 1시간 간격   │  │ 2시간 간격   │
    └──────┬───────┘  └──────┬───────┘
           └────────┬────────┘
                    ↓
┌─────────────────────────────────────────────────────────┐
│              피부 상태 관찰                             │
│  (발적, 손상, 습기 여부)                               │
└───────────────────────┬─────────────────────────────────┘
                        ↓
              ┌─────────────────┐
              │ 피부 이상 발견? │
              └────────┬────────┘
           예 ↙         ↘ 아니오
    ┌──────────────┐           │
    │ 담당의 보고  │           │
    │ 욕창 간호    │           │
    └──────┬───────┘           │
           └────────┬──────────┘
                    ↓
┌─────────────────────────────────────────────────────────┐
│         다음 자세 결정 및 체위 변경                     │
│  (좌측위 → 앙와위 → 우측위 → 앙와위 순환)             │
└───────────────────────┬─────────────────────────────────┘
                        ↓
┌─────────────────────────────────────────────────────────┐
│       보조기구 배치 (베개, 쿠션)                        │
│  - 뼈 돌출 부위 압력 분산                              │
│  - 발뒤꿈치 들어올림                                    │
└───────────────────────┬─────────────────────────────────┘
                        ↓
┌─────────────────────────────────────────────────────────┐
│              기록 (EMR)                                 │
│  - 시간, 자세, 피부 상태, 보조기구                     │
└───────────────────────┬─────────────────────────────────┘
                        ↓
┌─────────────────────────────────────────────────────────┐
│              다음 체위 변경 알람 설정                   │
└───────────────────────┬─────────────────────────────────┘
                        ↓
┌─────────────────────────────────────────────────────────┐
│                      종료                               │
└─────────────────────────────────────────────────────────┘`,
        outputExplanation: '복합 업무를 흐름도로 정리하면 의사결정 포인트(욕창 고위험군 여부, 피부 이상 발견 여부)와 분기를 명확히 볼 수 있습니다.'
      },
      {
        id: 's11-prac03-p02',
        title: '단계별 상세 SOP',
        template: `위 흐름도를 바탕으로 단계별 상세 SOP를 작성해주세요.

각 단계에 포함할 내용:
- 행동 지시 (무엇을 하는가)
- 방법 (어떻게 하는가)
- 확인 사항 (무엇을 확인하는가)
- 기준 (얼마나, 어느 정도)

[업무 메모]
{{data}}`,
        promptType: 'convert',
        outputFormat: 'report',
        difficulty: 'intermediate',
        tags: ['상세SOP', '단계별'],
        expectedOutput: `━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
    체위 변경 표준작업지침 (SOP)
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

■ 목적
욕창 예방을 위해 정기적으로 체위를 변경하고
피부 상태를 관찰하여 욕창 발생을 조기에 발견한다.

■ 적용 대상
- 거동 불가 또는 제한 환자
- 의식 저하 환자
- 욕창 위험 평가 점수 해당 환자

■ 체위 변경 주기
| 구분 | 주기 |
|------|------|
| 일반 환자 | 2시간 |
| 고위험 환자 | 1시간 |
| 기존 욕창 환자 | 담당의 지시 |

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

■ 절차

[STEP 1] 준비
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
행동: 손 위생 시행
방법: 비누와 물 또는 손 소독제 사용 (20초 이상)
확인: 손톱 짧게, 장신구 제거

[STEP 2] 환자 상태 확인
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
행동: 환자 상태 및 현재 자세 확인
방법: EMR 기록 확인, 환자에게 인사
확인:
  □ 현재 자세 (좌측위/앙와위/우측위)
  □ 마지막 체위 변경 시간
  □ 욕창 위험 등급
  □ 움직임 제한 사항

[STEP 3] 피부 관찰
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
행동: 압력 부위 피부 상태 관찰
방법: 눈으로 관찰, 손으로 촉진
확인 부위:
  □ 천골부
  □ 발뒤꿈치
  □ 뒷머리
  □ 귀
  □ 견갑골
  □ 팔꿈치
확인 사항:
  □ 발적 (누르면 창백해지는지)
  □ 피부 손상
  □ 습기
  □ 부종
기준:
  - 비창백성 발적 = 1단계 욕창 의심 → 보고

[STEP 4] 체위 변경
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
행동: 다음 자세로 체위 변경
순서: 좌측위 → 앙와위 → 우측위 → 앙와위 (반복)
방법:
  1. 환자에게 설명
  2. 침대 높이 조절 (허리 높이)
  3. 환자를 부드럽게 굴려서 자세 변경
  4. 30도 측위 유지 (완전 90도 아님)
주의:
  - 피부 마찰 최소화 (끌지 않기)
  - 관절 과신전 방지

[STEP 5] 보조기구 배치
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
행동: 압력 분산용 보조기구 배치
도구: 베개, 쿠션, 폼 패드
배치:
  □ 뼈 돌출 부위 사이에 베개
  □ 발뒤꿈치 들어올림 (떠 있도록)
  □ 귀에 압력 가지 않도록
  □ 등 뒤 지지 (측위 시)
기준:
  - 뼈와 뼈가 닿지 않도록
  - 순환 장애 없도록 (너무 조이지 않게)

[STEP 6] 기록
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
행동: EMR에 기록
기록 항목:
  □ 시행 시간
  □ 변경 전/후 자세
  □ 피부 상태 (정상/이상 소견)
  □ 사용한 보조기구
  □ 환자 반응 (통증, 불편감)

[STEP 7] 알람 설정
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
행동: 다음 체위 변경 알람 설정
방법: 타이머 또는 EMR 알람
시간: 환자 위험 등급에 따라 1~2시간 후

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━`,
        outputExplanation: '각 단계를 행동-방법-확인-기준으로 구조화했습니다. 피부 관찰 시 확인 부위와 기준(비창백성 발적 = 1단계 욕창)을 명확히 제시했습니다.'
      }
    ],
    summary: '복합 업무는 먼저 흐름도로 전체 구조를 파악하고, 각 단계를 상세히 기술합니다. 의사결정 포인트(고위험군 여부, 이상 발견 여부)를 명확히 하는 것이 중요합니다.'
  },
  {
    id: 4,
    title: '시나리오 4: 함정 데이터 - 불완전한 업무 기술',
    description: '중요한 단계가 누락되거나 안전 관련 내용이 빠진 업무 기술을 발견하고 보완하는 실습입니다.',
    dummyDataList: [
      {
        id: 's11-prac04',
        title: '유치도뇨관 관리 메모 (불완전)',
        description: '일부 중요 사항이 누락된 업무 메모',
        category: 'sop',
        format: 'text',
        dataType: 'flawed',
        trapPoints: [
          '손 위생 언급 없음',
          '무균술 관련 내용 없음',
          '소변백 비우기 방법/주기 없음',
          '감염 징후 구체적 기준 없음'
        ],
        characteristics: '유치도뇨관 관리의 핵심인 감염 예방 관련 내용이 부족합니다.',
        content: `[업무 설명 메모 - 유치도뇨관 관리]

유치도뇨관 있는 환자는 감염 주의해야 한다.
소변백은 항상 방광보다 아래에 있어야 한다.
소변백이 바닥에 닿으면 안 된다.
도뇨관 꺾이지 않게 주의한다.
소변 색깔이랑 양 확인해서 기록한다.
이상하면 보고한다.
회음부 청결 유지해야 한다.
도뇨관 빠지면 바로 보고한다.`
      },
      {
        id: 's11-prac04-d2',
        title: '비위관 영양 메모 (불완전)',
        description: '안전 확인 절차가 부족한 업무 메모',
        category: 'sop',
        format: 'text',
        dataType: 'flawed',
        trapPoints: [
          '튜브 위치 확인 방법 누락',
          '주입 속도/온도 기준 없음',
          '역류 예방 자세 언급 없음',
          '잔류량 확인 기준 없음'
        ],
        characteristics: '비위관 영양의 안전 확인 절차가 누락되어 있습니다.',
        content: `[업무 설명 메모 - 비위관 영양]

비위관으로 영양액 주입한다.
처방된 양만큼 주입한다.
주입 전에 튜브가 제자리에 있는지 확인한다.
천천히 주입한다.
주입 후에 물로 튜브 막힘 방지한다.
환자 상태 관찰하고 기록한다.`
      },
      {
        id: 's11-prac04-d3',
        title: '인슐린 투여 메모 (불완전)',
        description: '확인 절차와 안전 지침이 부족한 메모',
        category: 'sop',
        format: 'text',
        dataType: 'flawed',
        trapPoints: [
          '혈당 측정 시점 누락',
          '인슐린 종류별 주의사항 없음',
          '저혈당 대응 지침 없음',
          '투여 부위 순환 언급 없음'
        ],
        characteristics: '인슐린 투여 시 필수 확인 사항과 안전 지침이 부족합니다.',
        content: `[업무 설명 메모 - 인슐린 투여]

혈당 확인하고 처방대로 인슐린 투여한다.
피하 주사로 맞는다.
인슐린은 냉장 보관한다.
투여 후에 기록한다.
환자 상태 변화 있으면 보고한다.`
      }
    ],
    prompts: [
      {
        id: 's11-prac04-p01',
        title: '누락 사항 분석',
        template: `아래 유치도뇨관 관리 업무 메모를 분석하여 SOP 작성에 필요하지만 누락된 내용을 식별해주세요.

분석 관점:
1. 감염 예방 관련 (손 위생, 무균술)
2. 구체적 기준/수치 (시간, 양, 색상)
3. 안전 관련 (이상 징후, 응급 상황)
4. 기록/보고 관련

[업무 메모]
{{data}}`,
        promptType: 'validate',
        outputFormat: 'list',
        difficulty: 'advanced',
        tags: ['누락분석', '감염관리'],
        expectedOutput: `■ 유치도뇨관 관리 메모 누락 분석

┌─────────────────────────────────────────────────────────────┐
│ 1. 감염 예방 관련 - 중대 누락!                             │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│ ❌ 손 위생                                                  │
│    - 도뇨관 접촉 전후 손 위생 언급 없음                    │
│    - 소변백 다룰 때 손 위생 언급 없음                      │
│                                                             │
│ ❌ 무균술/청결 기법                                        │
│    - 소변백 비울 때 무균적 방법 없음                       │
│    - 배출구 오염 방지 방법 없음                            │
│                                                             │
│ ❌ 장갑 착용                                                │
│    - 소변백 다룰 때 장갑 사용 언급 없음                    │
│                                                             │
└─────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────┐
│ 2. 구체적 기준/수치 누락                                   │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│ ❌ 소변백 비우기                                            │
│    - 비우는 주기 없음 (예: 2/3 찼을 때, 매 근무 시)        │
│    - 비우는 방법 없음                                       │
│                                                             │
│ ❌ 소변 색깔 기준                                           │
│    - "이상하면" → 구체적 색상 기준 없음                    │
│    - 정상: 연한 노란색, 이상: 혼탁, 혈뇨, 침전물           │
│                                                             │
│ ❌ 소변량 기준                                              │
│    - 정상 범위 없음 (예: 시간당 30ml 이상)                 │
│    - 감소 보고 기준 없음                                    │
│                                                             │
│ ❌ 도뇨관 교체 주기                                         │
│    - 교체 주기 언급 없음                                    │
│                                                             │
└─────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────┐
│ 3. 안전 관련 (이상 징후) 누락                              │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│ ❌ 감염 징후                                                │
│    - 발열, 오한 기준 없음                                   │
│    - 하복부 통증                                            │
│    - 혼탁뇨, 악취                                           │
│                                                             │
│ ❌ 폐색 징후                                                │
│    - 소변 안 나올 때 확인 사항                             │
│    - 방광 팽만 확인                                         │
│                                                             │
│ ❌ 손상 징후                                                │
│    - 요도구 출혈                                            │
│    - 통증 호소                                              │
│                                                             │
└─────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────┐
│ 4. 기록/보고 관련 누락                                     │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│ ❌ 기록 항목 상세                                           │
│    - I/O 기록 방법                                          │
│    - 기록 시점                                              │
│                                                             │
│ ❌ 보고 기준                                                │
│    - "이상하면" → 구체적 보고 기준 필요                    │
│    - 보고 대상 (담당의, 수간호사)                          │
│                                                             │
└─────────────────────────────────────────────────────────────┘`,
        outputExplanation: 'AI가 감염 예방, 구체적 기준, 안전 관련, 기록/보고 4가지 관점에서 누락 사항을 분석했습니다. 특히 손 위생과 무균술은 유치도뇨관 관리의 핵심임에도 누락되어 있습니다.'
      },
      {
        id: 's11-prac04-p02',
        title: '보완된 SOP 작성',
        template: `위 분석을 바탕으로 누락된 내용을 보완한 완전한 유치도뇨관 관리 SOP를 작성해주세요.

보완 포인트:
- 손 위생, 무균술 포함
- 구체적 수치/기준 포함
- 감염 징후 및 보고 기준 포함

[원본 메모]
{{data}}`,
        promptType: 'generate',
        outputFormat: 'report',
        difficulty: 'advanced',
        tags: ['보완SOP', '완성본'],
        expectedOutput: `━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
    유치도뇨관 관리 표준작업지침 (SOP)
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

■ 목적
유치도뇨관 관련 요로감염을 예방하고
적절한 소변 배출을 유지한다.

■ 적용 대상
유치도뇨관 삽입 환자

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

■ 정기 관리 (매 근무 시)

[손 위생] ← 보완
□ 도뇨관 접촉 전 손 위생
□ 일회용 장갑 착용

[도뇨관 상태 확인]
□ 도뇨관 꺾임 없음
□ 도뇨관 당김 없음
□ 고정 상태 적절함

[소변백 관리]
□ 방광보다 아래 위치
□ 바닥에 닿지 않음
□ 배출구 오염 없음

[소변 관찰]
□ 색상: 연한 노란색 (정상)
□ 혼탁 여부
□ 침전물 여부
□ 양: 시간당 30ml 이상

[회음부 청결]
□ 하루 1회 이상 청결 유지
□ 비누와 물로 세척
□ 앞에서 뒤로 닦기

[기록]
□ I/O 기록 (소변량)
□ 소변 색상, 성상
□ 이상 소견

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

■ 소변백 비우기 ← 보완

[시점]
- 2/3 이상 찼을 때
- 최소 매 8시간마다

[방법]
1. 손 위생 시행
2. 일회용 장갑 착용
3. 배출구가 용기에 닿지 않게 비움
4. 배출구 알코올 소독
5. 배출구 닫고 원위치
6. 장갑 제거 후 손 위생
7. 소변량 기록

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

■ 이상 징후 및 보고 기준 ← 보완

[감염 징후] → 즉시 보고
□ 발열 (체온 38°C 이상)
□ 오한
□ 하복부 통증
□ 혼탁뇨
□ 악취
□ 혈뇨

[폐색 징후] → 즉시 확인
□ 소변 안 나옴 (1시간 이상)
□ 방광 팽만
□ 하복부 불편감

[손상 징후] → 즉시 보고
□ 요도구 출혈
□ 통증 호소
□ 자가 발관

보고 대상: 담당 의사, 수간호사

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

■ 주의사항

- 불필요한 도뇨관 조기 제거 검토
- 도뇨관 폐쇄계 유지 (불필요한 분리 금지)
- 소변 샘플 채취 시 무균적 방법 사용
- 도뇨관 막히면 생리식염수로 관류 (의사 처방)

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━`,
        outputExplanation: '원본에서 누락된 손 위생, 소변백 비우기 방법, 감염/폐색/손상 징후 및 구체적 보고 기준을 모두 보완했습니다. [보완] 표시로 추가된 부분을 명시했습니다.'
      }
    ],
    summary: '업무 메모에서 누락된 내용을 찾는 것은 안전한 SOP 작성의 첫걸음입니다. 특히 감염 예방(손 위생, 무균술)과 이상 징후 보고 기준은 반드시 포함해야 합니다.'
  },
  {
    id: 5,
    title: '시나리오 5: 대상별 교육 자료 변환',
    description: '같은 SOP를 신규 직원용, 경력 직원 복습용, 환자/보호자용으로 다르게 변환하는 실습입니다.',
    dummyDataList: [
      {
        id: 's11-prac05',
        title: '낙상 예방 업무 메모',
        description: '낙상 고위험 환자 관리 업무',
        category: 'sop',
        format: 'text',
        dataType: 'role_switch',
        roleTarget: 'nurse',
        characteristics: '같은 낙상 예방 내용을 직원용, 환자/보호자용으로 다르게 전달해야 합니다.',
        content: `[업무 설명 메모 - 낙상 예방]

낙상 고위험 환자는 따로 관리한다.
침대 난간 올려야 한다.
콜벨 손 닿는 곳에 두고, 사용법 알려준다.
화장실 갈 때 도움 요청하라고 교육한다.
바닥에 물기 없는지 확인한다.
신발은 미끄럽지 않은 거 신게 한다.
야간에 조명 켜둔다.
고위험 환자 표시(팔찌, 침상 표시)한다.`
      },
      {
        id: 's11-prac05-d2',
        title: '억제대 적용 업무 메모',
        description: '억제대 적용 및 관리 업무',
        category: 'sop',
        format: 'text',
        dataType: 'role_switch',
        roleTarget: 'nurse',
        characteristics: '같은 억제대 관리 내용을 직원용, 환자/보호자용으로 다르게 설명해야 합니다.',
        content: `[업무 설명 메모 - 억제대]

억제대는 최후의 수단으로만 사용한다.
의사 처방이 있어야 한다.
2시간마다 풀어서 관절 운동시킨다.
피부 상태 확인하고 너무 조이지 않게 한다.
억제대 사용 사유와 시간 기록한다.
보호자한테 설명하고 동의 받는다.
대안이 있으면 억제대 대신 사용한다.`
      },
      {
        id: 's11-prac05-d3',
        title: '격리 환자 관리 업무 메모',
        description: '감염 격리 환자 관리 업무',
        category: 'sop',
        format: 'text',
        dataType: 'role_switch',
        roleTarget: 'caregiver',
        characteristics: '같은 격리 관리 내용을 직원용, 보호자용으로 다르게 안내해야 합니다.',
        content: `[업무 설명 메모 - 격리 환자]

격리 환자 방문 시 보호구 착용한다.
손 위생 철저히 한다.
물품은 가능한 일회용 사용한다.
격리 유형에 따라 보호구가 다르다.
퇴실 시 보호구 탈의 순서 지킨다.
격리 사유와 주의사항 교육한다.
면회 제한이나 주의사항 안내한다.`
      }
    ],
    prompts: [
      {
        id: 's11-prac05-p01',
        title: '신규 직원용 교육 자료',
        template: `아래 낙상 예방 업무를 신규 직원용 교육 자료로 변환해주세요.

신규 직원용 조건:
- "왜" 해야 하는지 이유 포함
- 단계별 상세 설명
- 실수하기 쉬운 포인트 강조
- 체크리스트 형식

[업무 메모]
{{data}}`,
        promptType: 'convert',
        outputFormat: 'text',
        difficulty: 'intermediate',
        tags: ['신규직원', '교육자료'],
        expectedOutput: `━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
    낙상 예방 교육 자료 (신규 직원용)
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

■ 왜 낙상 예방이 중요한가요?

낙상은 입원 환자에게 가장 흔한 안전 사고입니다.
- 골절, 두부 손상 등 심각한 결과 초래
- 환자 재원 기간 연장
- 의료비 증가

특히 고위험군(고령, 인지장애, 수면제 복용 등)은
더 세심한 관리가 필요합니다.

■ 낙상 고위험 환자 식별

[고위험군 체크]
□ 65세 이상 고령
□ 인지 장애 (치매, 섬망)
□ 보행 장애
□ 어지러움 증상
□ 수면제/진정제 복용
□ 이전 낙상 경험

→ 위 항목 해당 시 "낙상 고위험" 표시

■ 단계별 예방 조치 체크리스트

[환경 관리]
□ 침대 난간 올리기
   💡 왜? 잠결에 떨어지는 것 방지
   ⚠️ 실수 포인트: 퇴실 시 내린 채 두지 않기

□ 바닥 물기 제거
   💡 왜? 미끄러짐 방지
   ⚠️ 실수 포인트: 청소 후 젖은 바닥 확인

□ 야간 조명 유지
   💡 왜? 화장실 이동 시 시야 확보

□ 콜벨 손 닿는 곳 배치
   💡 왜? 혼자 움직이려다 넘어지는 것 방지

[환자 관리]
□ 미끄럽지 않은 신발 착용
   💡 왜? 슬리퍼보다 안전
   ⚠️ 실수 포인트: 맨발 or 양말만 신고 다니면 위험

□ 화장실 갈 때 도움 요청 교육
   💡 왜? 고위험군은 혼자 이동 시 위험
   ⚠️ 실수 포인트: "귀찮게 하지 말라"는 환자도 교육

[식별 표시]
□ 낙상 주의 팔찌 착용
□ 침상 표시 부착

■ 인계 시 확인 사항

□ 낙상 위험 등급
□ 최근 낙상 여부
□ 이동 시 보조 필요 여부
□ 환자/보호자 교육 여부

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
기억하세요: 낙상 예방은 "미리" 하는 것입니다!`,
        outputExplanation: '신규 직원용은 "왜"를 설명하고, 실수하기 쉬운 포인트(⚠️)를 별도로 강조했습니다. 체크리스트 형식으로 실무에 바로 적용할 수 있게 했습니다.'
      },
      {
        id: 's11-prac05-p02',
        title: '환자/보호자용 안내문',
        template: `위 낙상 예방 업무를 환자와 보호자가 이해하고 협조할 수 있는 안내문으로 변환해주세요.

환자/보호자용 조건:
- 쉬운 말 사용
- 협조 요청 어조
- 환자가 지켜야 할 것 중심
- 안심시키는 메시지

[업무 메모]
{{data}}`,
        promptType: 'convert',
        outputFormat: 'text',
        difficulty: 'intermediate',
        tags: ['환자용', '보호자용'],
        expectedOutput: `━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
    낙상 예방 안내문 (환자·보호자용)
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

환자분과 보호자님께,

안전한 입원 생활을 위해 낙상 예방에 협조 부탁드립니다.
함께 주의하시면 안전하게 치료받으실 수 있습니다.

■ 환자분께 부탁드립니다

🔔 화장실 가실 때 꼭 버튼을 눌러주세요

   병원에서는 낯선 환경이라 미끄러지기 쉬워요.
   버튼을 누르시면 저희가 도와드리러 갑니다.
   절대 혼자 움직이려고 하지 마세요.
   "귀찮게 하는 게 아닐까?"
   → 전혀 아닙니다! 도와드리는 게 저희 일이에요.

👟 신발을 꼭 신고 다녀주세요

   슬리퍼나 맨발은 미끄러워요.
   뒤꿈치가 있는 신발이 가장 안전합니다.

🛏️ 침대 난간은 올려두세요

   잠결에 떨어지지 않도록 보호해줍니다.
   답답하시더라도 안전을 위해 협조 부탁드려요.

■ 보호자님께 부탁드립니다

✓ 바닥에 물기가 보이면 알려주세요
✓ 환자분이 혼자 움직이려 하시면 말려주세요
✓ 면회 후 물건 정리 부탁드립니다
  (바닥에 물건이 있으면 넘어질 수 있어요)

■ 저희가 해드리는 것

- 침대 난간 확인
- 콜벨 손 닿는 곳 배치
- 야간에 화장실 조명 켜두기
- 낙상 주의 팔찌와 표시

■ 걱정하지 마세요

팔찌와 표시는 "위험한 환자"라는 뜻이 아니에요.
"더 세심하게 관리해드리겠습니다"라는 표시입니다.

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
궁금한 점은 간호사에게 말씀해 주세요.
함께 안전하게 치료 마치고 건강히 퇴원하세요!`,
        outputExplanation: '환자/보호자용은 의료 용어를 쉬운 말로 바꾸고, "귀찮게 하는 게 아니에요"처럼 안심시키는 메시지를 포함했습니다. 협조 요청 어조로 작성했습니다.'
      }
    ],
    summary: '같은 SOP도 대상에 따라 다르게 전달해야 합니다. 직원에게는 "왜"와 "실수 포인트", 환자에게는 "쉬운 말"과 "안심 메시지"가 핵심입니다.'
  },
  {
    id: 6,
    title: '시나리오 6: 종합 실습 - 비공식 표현 SOP 변환',
    description: 'JSON/CSV 형식의 비공식 표현 데이터를 정식 SOP 표현으로 변환하고, 다양한 형식으로 출력하는 종합 실습입니다.',
    dummyDataList: [
      {
        id: 's11-prac06',
        title: '비공식 vs SOP 표현 비교 데이터',
        description: 'CSV 형식의 표현 비교 데이터',
        category: 'sop',
        format: 'text',
        dataType: 'memo',
        characteristics: '비공식 표현과 SOP 표현의 대응 관계를 보여주는 데이터입니다. 변환 패턴을 학습할 수 있습니다.',
        content: `업무명,항목,비공식설명,SOP표현(예시)
활력징후측정,시점,"보통 아침점심저녁","1일 3회 (08:00, 12:00, 18:00)"
활력징후측정,이상기준,"평소보다 많이 다르면","BP>180 또는 <90"
활력징후측정,사전확인,"안정된 상태인지 확인","5분 이상 안정 상태 확인"
체위변경,주기,"보통 2시간마다","2시간 간격"
체위변경,고위험환자,"환자 상태에 따라","고위험 환자 1시간 간격"
체위변경,자세순서,"번갈아 한다","좌측위→앙와위→우측위→앙와위"
경구투약,환자확인,"이름 생년월일 물어본다","이름과 생년월일로 본인 확인"
경구투약,확인사항,"5 Rights","환자/약물/용량/경로/시간 확인"`
      },
      {
        id: 's11-prac06-d2',
        title: '비공식 표현 JSON 데이터',
        description: 'JSON 형식의 비공식 표현 데이터',
        category: 'sop',
        format: 'json',
        dataType: 'memo',
        characteristics: 'JSON 형식으로 된 비공식 표현 데이터를 SOP 표현으로 변환하는 연습입니다.',
        content: `{
  "업무": "욕창관리",
  "항목들": [
    {"분류": "사정주기", "비공식": "매일 확인", "정식": "1일 1회 Braden Scale 사정"},
    {"분류": "위험도", "비공식": "위험하면", "정식": "Braden 점수 18점 이하"},
    {"분류": "체위변경", "비공식": "자주", "정식": "2시간 간격"},
    {"분류": "피부관찰", "비공식": "빨갛거나 이상하면", "정식": "발적, 부종, 피부결손 유무"}
  ]
}`
      },
      {
        id: 's11-prac06-d3',
        title: '비공식 표현 확장 CSV',
        description: '추가 업무 항목이 포함된 CSV 데이터',
        category: 'sop',
        format: 'text',
        dataType: 'memo',
        characteristics: '다양한 업무의 비공식/정식 표현 변환 데이터입니다.',
        content: `업무명,항목,비공식설명,SOP표현(예시)
흡인간호,시행시기,"분비물 많으면","흡인음 청진, SpO2<94%, 호흡곤란 시"
흡인간호,시행시간,"너무 오래 안 하게","1회 15초 이내"
격리관리,보호구착용,"상황에 맞게","표준주의-접촉-비말-공기주의별 명시"
격리관리,손위생,"자주 씻기","WHO 5가지 순간 준수"
통증관리,사정시기,"아프다고 하면","1일 3회 정기 사정 + PRN"
통증관리,평가도구,"점수 물어보기","NRS 0-10점 또는 Wong-Baker"`
      }
    ],
    prompts: [
      {
        id: 's11-prac06-p01',
        title: '변환 패턴 분석',
        template: `아래 CSV 데이터에서 비공식 표현 → SOP 표현 변환 패턴을 분석해주세요.

분석 항목:
1. 변환 유형별 분류
2. 각 유형의 변환 규칙
3. 적용 예시

[CSV 데이터]
{{data}}`,
        promptType: 'analyze',
        outputFormat: 'list',
        difficulty: 'intermediate',
        tags: ['패턴분석', '변환규칙'],
        expectedOutput: `■ 비공식 → SOP 표현 변환 패턴 분석

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

[유형 1] 모호한 시간 → 구체적 시간/횟수

변환 규칙:
- "보통", "대체로" → 구체적 횟수
- 시간대 표현 → 정확한 시각

예시:
| 비공식 | SOP |
|--------|-----|
| 보통 아침점심저녁 | 1일 3회 (08:00, 12:00, 18:00) |
| 보통 2시간마다 | 2시간 간격 |

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

[유형 2] 모호한 기준 → 수치 기준

변환 규칙:
- "많이 다르면" → 구체적 수치 범위
- "이상하면" → 측정 가능한 기준

예시:
| 비공식 | SOP |
|--------|-----|
| 평소보다 많이 다르면 | BP>180 또는 <90 |
| 환자 상태에 따라 | 고위험 환자 1시간 간격 |

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

[유형 3] 일상어 → 표준 용어

변환 규칙:
- 구어체 → 문어체
- 약어 설명 → 약어(전체 명칭)

예시:
| 비공식 | SOP |
|--------|-----|
| 이름 생년월일 물어본다 | 이름과 생년월일로 본인 확인 |
| 5 Rights | 환자/약물/용량/경로/시간 확인 |

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

[유형 4] 불명확한 순서 → 명확한 순서

변환 규칙:
- "번갈아" → 구체적 순환 순서
- 나열 → 화살표 순서

예시:
| 비공식 | SOP |
|--------|-----|
| 번갈아 한다 | 좌측위→앙와위→우측위→앙와위 |

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

[유형 5] 조건 모호 → 조건 명확화

변환 규칙:
- "~인지 확인" → 구체적 확인 기준
- 상태 표현 → 측정 가능한 조건

예시:
| 비공식 | SOP |
|--------|-----|
| 안정된 상태인지 확인 | 5분 이상 안정 상태 확인 |`,
        outputExplanation: 'AI가 비공식→SOP 변환을 5가지 유형(시간, 기준, 용어, 순서, 조건)으로 분류하고 각각의 변환 규칙과 예시를 제시했습니다.'
      },
      {
        id: 's11-prac06-p02',
        title: '변환 가이드 문서 생성',
        template: `위 분석을 바탕으로 "비공식 표현 → SOP 표현 변환 가이드" 문서를 작성해주세요.

가이드 구성:
1. 변환 원칙
2. 유형별 변환 방법
3. 체크리스트 (변환 시 확인 사항)
4. 자주 사용되는 변환 예시 표

[CSV 데이터]
{{data}}`,
        promptType: 'generate',
        outputFormat: 'report',
        difficulty: 'advanced',
        tags: ['변환가이드', '문서생성'],
        expectedOutput: `━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
    비공식 표현 → SOP 표현 변환 가이드
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

■ 1. 변환 원칙

1) 모호함 제거
   - "보통", "대체로", "많이" → 수치, 횟수, 시간으로

2) 측정 가능성
   - 누가 봐도 같은 기준으로 판단할 수 있도록

3) 재현 가능성
   - 누가 해도 같은 방식으로 수행할 수 있도록

4) 완전성
   - 생략된 단계 없이 전체 과정 기술

■ 2. 유형별 변환 방법

┌─────────────────────────────────────────────────────────────┐
│ [시간/빈도]                                                 │
├─────────────────────────────────────────────────────────────┤
│ 비공식        → SOP                                         │
│ "보통"        → 구체적 횟수 (예: 1일 3회)                   │
│ "아침점심저녁" → 정확한 시각 (예: 08:00, 12:00, 18:00)      │
│ "자주"        → 주기 명시 (예: 2시간 간격)                  │
│ "정기적으로"  → 구체적 주기 (예: 매 8시간)                  │
└─────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────┐
│ [기준/수치]                                                 │
├─────────────────────────────────────────────────────────────┤
│ 비공식            → SOP                                     │
│ "많이 다르면"     → 수치 범위 (예: >180 또는 <90)          │
│ "이상하면"        → 구체적 징후 (예: 혼탁, 혈뇨)           │
│ "적당히"          → 정량 표현 (예: 3ml)                     │
│ "충분히"          → 측정 기준 (예: 20초 이상)               │
└─────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────┐
│ [순서/과정]                                                 │
├─────────────────────────────────────────────────────────────┤
│ 비공식        → SOP                                         │
│ "번갈아"      → 순환 순서 (예: A→B→C→A)                    │
│ "확인한다"    → 확인 항목 나열                              │
│ "한다"        → 단계별 행동 분리                            │
└─────────────────────────────────────────────────────────────┘

■ 3. 변환 시 체크리스트

□ 모호한 표현이 남아있는가?
  - "보통", "적당히", "많이", "자주" 검색

□ 수치로 표현할 수 있는 것은 수치로 했는가?
  - 시간, 횟수, 양, 범위

□ 순서가 명확한가?
  - 단계 번호, 화살표 순서

□ 누구나 같은 방식으로 수행할 수 있는가?
  - 제3자 관점에서 검토

□ 판단 기준이 명확한가?
  - "이상 시"가 무엇인지 정의

■ 4. 자주 사용되는 변환 예시 표

| 비공식 표현 | SOP 표현 |
|-------------|----------|
| 보통 | 1일 N회, N시간 간격 |
| 자주 | 매 N시간, N회/일 |
| 많이 | >수치 또는 <수치 |
| 이상하면 | [구체적 징후] 발생 시 |
| 확인한다 | [항목1], [항목2], [항목3] 확인 |
| 기록한다 | [기록항목] EMR에 기록 |
| 보고한다 | [보고대상]에게 [보고시점]에 보고 |
| 번갈아 | [순서1]→[순서2]→[순서3] 순환 |
| 안정된 상태 | N분 이상 안정 상태 |

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

💡 핵심: "누가 읽어도 같은 행동을 할 수 있는가?"
   이 질문에 "예"라고 답할 수 있으면 좋은 SOP입니다.`,
        outputExplanation: '변환 원칙, 유형별 방법, 체크리스트, 예시 표를 포함한 종합 가이드 문서입니다. 실무에서 비공식 메모를 SOP로 변환할 때 참조할 수 있습니다.'
      }
    ],
    summary: 'SOP 변환의 핵심은 "모호함 제거"와 "측정 가능성"입니다. 패턴을 학습하면 비슷한 비공식 표현을 일관되게 SOP 표현으로 변환할 수 있습니다.'
  }
];
