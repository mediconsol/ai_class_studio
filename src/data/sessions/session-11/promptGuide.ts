import { PromptGuide } from '../../types';

export const promptGuide: PromptGuide = {
  strategy: {
    title: 'SOP 정리의 프롬프트 전략',
    description: 'SOP는 누가 읽어도 동일한 행동을 할 수 있도록 명확해야 합니다. AI가 "보통", "적절히", "필요시" 같은 모호한 표현을 사용하지 않고, 구체적이고 실행 가능한 단계로 정리하도록 유도하는 것이 핵심입니다.',
    keyPoints: [
      '시스템 프롬프트에서 "모호한 표현 금지", "구체적 단계만" 규칙 설정',
      '사용자 프롬프트에서 피해야 할 표현("보통", "적절히", "상황에 따라") 명시',
      '낮은 temperature(0.1)로 일관된 구조와 표현 유지',
      '출력 구조(목적/범위/준비물/절차/주의사항) 명확히 지정하여 형식 통일',
    ],
    temperature: 0.1,
    temperatureReason: 'Temperature 0.1로 설정하여 SOP의 일관성과 명확성을 보장합니다. 절차 단계가 누락되거나 모호한 표현이 추가되지 않도록 하며, 누구나 동일하게 이해할 수 있는 문서를 생성합니다.',
  },

  comparison: {
    bad: {
      title: '❌ 나쁜 예: 프롬프트 미분리',
      systemPrompt: '',
      userPrompt: `혈압 측정 업무를 SOP로 정리해줘.

[메모]
환자 팔에 커프 감고 측정. 안정 상태에서 해야 함. 수치 기록.`,
      output: `## 혈압 측정 SOP

**목적**
환자의 혈압을 정확하게 측정하여 건강 상태를 모니터링함

**절차**
1. 환자를 편안한 자세로 앉히거나 눕힌다
2. 적절한 크기의 커프를 선택한다
3. 환자 팔에 커프를 감는다
4. 보통 2-3분 정도 안정을 취한 후 측정한다
5. 필요시 재측정을 실시한다
6. 수치를 정확히 기록한다

**주의사항**
- 환자가 충분히 안정된 상태여야 정확한 측정이 가능함
- 커프 위치가 부적절하면 오차 발생
- 상황에 따라 양팔 측정 고려`,
      issues: [
        '"편안한 자세"는 모호한 표현 (구체적 자세 미명시)',
        '"적절한 크기"는 판단 필요 (기준 미제시)',
        '"보통 2-3분"은 불명확 (정확한 시간 필요)',
        '"필요시"는 판단 기준 불명확',
        '"충분히 안정", "부적절", "상황에 따라" 모두 모호한 표현',
      ],
    },
    good: {
      title: '✅ 좋은 예: 시스템/사용자 프롬프트 분리',
      systemPrompt: `당신은 간호 SOP 문서 작성을 보조하는 역할입니다.

## 핵심 안전 규칙
- 구체성 원칙: 모호한 표현 절대 사용 금지
- 실행 가능성: 누구나 동일하게 수행할 수 있는 단계로 작성
- 판단 제거: 개인 판단이 필요한 표현 금지
- 원문 충실: 제공된 메모에 없는 절차나 주의사항 추가 금지`,
      userPrompt: `아래 업무 설명 메모를 바탕으로 '[업무명] SOP' 초안을 작성해주세요.

■ SOP 구조
1. 목적 (1~2줄)
2. 적용 범위 (대상, 시점, 담당)
3. 준비물
4. 절차 (단계별 번호)
5. 주의사항

■ 작성 기준
- 단계별로 번호를 붙일 것
- 간호사가 바로 이해할 수 있는 표현 사용
- 모호한 표현 제거 ("보통", "적절히", "필요시", "상황에 따라", "편안한", "충분히" 등)
- 판단이나 진단은 포함하지 말 것
- SOP 문체로 작성 ("~한다")

[업무 설명 메모]
환자 팔에 커프 감고 측정. 안정 상태에서 해야 함. 수치 기록.`,
      output: `## 혈압 측정 SOP

**목적**
환자의 혈압 수치를 측정하여 기록한다

**절차**
1. 환자를 의자에 앉힌다 (등받이에 기대고 발을 바닥에 붙인 상태)
2. 환자 팔에 커프를 감는다
3. 3분간 안정 상태를 유지한다
4. 혈압을 측정한다
5. 측정 수치를 기록한다

**주의사항**
- 측정 전 3분 안정 시간 준수`,
    },
  },

  practice: {
    title: '직접 실습: 프롬프트 개선하기',
    instruction: '아래의 개선 전 프롬프트를 보고, 힌트를 참고하여 시스템/사용자 프롬프트로 분리하고 안전 규칙을 추가해보세요.',
    basePrompt: `수액 교체 절차를 SOP로 만들어줘.

[메모]
손 씻기 → 수액 준비 → 환자 확인 → 수액 교체 → 속도 조절 → 기록`,
    improvementHints: [
      '시스템 프롬프트: "모호한 표현 금지", "구체적 단계만", "판단 제거" 규칙 추가',
      '사용자 프롬프트: SOP 구조(목적/준비물/절차/주의사항) 명시',
      '피해야 할 표현 나열: "적절히", "필요시", "보통", "상황에 따라"',
      'Temperature를 0.1로 설정하여 일관성 유지',
    ],
  },

  checklist: [
    '✅ 시스템 프롬프트에 "모호한 표현 금지" 규칙을 명시했나요?',
    '✅ 사용자 프롬프트에 피해야 할 표현 목록을 나열했나요?',
    '✅ Temperature를 0.1~0.2로 낮게 설정했나요?',
    '✅ "보통", "적절히", "필요시", "상황에 따라" 같은 표현이 없나요?',
    '✅ 각 단계가 구체적이고 실행 가능한가요?',
    '✅ SOP 구조(목적/범위/준비물/절차/주의사항)가 명확한가요?',
  ],
};
