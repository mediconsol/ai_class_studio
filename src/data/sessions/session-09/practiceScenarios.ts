import { PracticeScenario } from '../../types';

export const practiceScenarios: PracticeScenario[] = [
  {
    id: 1,
    title: '시나리오 1: 낙상 사고 보고서 작성',
    description: '병실 내 낙상 사고 메모를 바탕으로 환자안전 사고보고서 초안을 작성하는 실습입니다. AI가 원인을 판단하지 않고 사실만 정리하는 것이 핵심입니다.',
    dummyDataList: [
      {
        id: 's09-prac01',
        title: '낙상 사고 메모',
        description: '야간 병실 내 낙상 사고 현장 메모',
        category: 'safety',
        format: 'text',
        dataType: 'memo',
        characteristics: '야간에 발생한 낙상 사고로, 보호자 부재 상황입니다. 경미한 손상만 있었지만 정식 보고서 작성이 필요합니다.',
        content: `[사고 상황 메모]

사고 유형: 병실 내 낙상
환자: 김OO (80대, 남)

사고 발생 시각: 03:20
상황:
환자가 화장실 이동 중 병실 바닥에서 넘어짐
야간 근무 중이었으며 보호자는 병실에 없음

사고 직후 상태:
의식 명료
이마에 경미한 타박상 관찰됨
통증 심하게 호소하지 않음

즉각 조치:
침상으로 이동 도움
얼음찜질 시행
의사에게 보고 완료`
      }
    ],
    prompts: [
      {
        id: 's09-prac01-p01',
        title: '사고보고서 초안 작성',
        template: `아래 사고 메모를 바탕으로 환자안전 사고보고서 초안을 작성해주세요.

보고서 형식:
1. 사고 개요 (유형, 환자정보, 발생일시/장소)
2. 사고 발생 상황 (사실만 기술)
3. 사고 직후 환자 상태
4. 즉각 조치 내용
5. 보고 현황

조건:
- 원문에 있는 사실만 기재
- 원인 추측이나 판단 금지
- "~때문에", "~으로 인해" 같은 인과관계 표현 금지
- 객관적 사실만 서술

[사고 메모]
{{data}}`,
        promptType: 'convert',
        outputFormat: 'report',
        difficulty: 'basic',
        tags: ['사고보고서', '낙상'],
        expectedOutput: `┌──────────────────────────────────────────────────────────────┐
│                  환자안전 사고보고서                          │
├──────────────────────────────────────────────────────────────┤
│ ■ 사고 개요                                                  │
│                                                              │
│ 사고 유형: 낙상                                              │
│ 환자: 김OO (80대, 남)                                        │
│ 발생 일시: 03:20                                             │
│ 발생 장소: 병실 내                                           │
├──────────────────────────────────────────────────────────────┤
│ ■ 사고 발생 상황                                             │
│                                                              │
│ - 환자가 화장실 이동 중 병실 바닥에서 넘어짐                 │
│ - 야간 근무 시간대                                           │
│ - 사고 발생 시 보호자 병실 부재                              │
├──────────────────────────────────────────────────────────────┤
│ ■ 사고 직후 환자 상태                                        │
│                                                              │
│ - 의식: 명료                                                 │
│ - 손상: 이마에 경미한 타박상 관찰                            │
│ - 통증: 심하게 호소하지 않음                                 │
├──────────────────────────────────────────────────────────────┤
│ ■ 즉각 조치 내용                                             │
│                                                              │
│ 1. 침상으로 이동 도움                                        │
│ 2. 얼음찜질 시행                                             │
│ 3. 담당 의사에게 보고                                        │
├──────────────────────────────────────────────────────────────┤
│ ■ 보고 현황                                                  │
│                                                              │
│ - 담당 의사: 보고 완료                                       │
└──────────────────────────────────────────────────────────────┘`,
        outputExplanation: 'AI가 메모를 공식 보고서 형식으로 변환했습니다. "야간이라 주의가 부족했다"나 "보호자가 없어서 넘어졌다" 같은 원인 추측 없이 사실만 기재했습니다.'
      },
      {
        id: 's09-prac01-p02',
        title: '시간순 경과 정리',
        template: `위 사고 내용을 시간순으로 정리해주세요.

형식:
[시각] - [내용]

조건:
- 원문에 명시된 시간 정보만 사용
- 시간이 없는 항목은 "사고 직후", "조치 시" 등으로 표현
- 사실만 기재, 추측 금지

[사고 메모]
{{data}}`,
        promptType: 'convert',
        outputFormat: 'timeline',
        difficulty: 'basic',
        tags: ['타임라인', '경과기록'],
        expectedOutput: `■ 사고 경과 타임라인

[03:20] 사고 발생
- 환자 화장실 이동 중 병실 바닥에서 낙상
- 보호자 병실 부재 상태

[사고 직후] 환자 상태 확인
- 의식 명료 확인
- 이마 경미한 타박상 관찰
- 통증 심하게 호소하지 않음

[조치 시] 즉각 조치
- 침상으로 이동 도움
- 얼음찜질 시행

[보고 완료] 담당 의사에게 보고`,
        outputExplanation: '시간순 정리는 사고 경과를 파악하기 쉽게 합니다. 명시된 시각(03:20)과 순서를 나타내는 표현(사고 직후, 조치 시)을 구분했습니다.'
      }
    ],
    summary: '환자안전 사고보고서의 핵심은 "사실만 기재"입니다. AI를 활용할 때도 원인 추측이나 책임 판단 없이 객관적 사실만 정리하도록 프롬프트를 설계해야 합니다.'
  },
  {
    id: 2,
    title: '시나리오 2: 다양한 사고 유형별 보고서',
    description: '투약 지연, 욕창 발견, 자가 발관 등 다양한 사고 유형의 메모를 보고서로 변환하는 실습입니다. 각 유형별 특성에 맞게 필요한 정보를 정리합니다.',
    dummyDataList: [
      {
        id: 's09-prac02-a',
        title: '투약 지연 사고 메모',
        description: '정규 투약 시간 지연 사고',
        category: 'safety',
        format: 'text',
        dataType: 'memo',
        characteristics: '환자에게 직접적 해가 발생하지 않은 경미한 사고이지만, 기록과 보고가 필요합니다.',
        content: `[사고 상황 메모]

사고 유형: 투약 지연
환자: 이OO (70대, 여)

상황:
정규 투약 시간 대비 약 30분 지연 투약
환자 불편감 호소 없음

즉각 조치:
투약 완료
활력징후 확인
담당 의사에게 보고`
      },
      {
        id: 's09-prac02-b',
        title: '욕창 발견 사고 메모',
        description: '체위 변경 중 욕창 발견',
        category: 'safety',
        format: 'text',
        dataType: 'memo',
        characteristics: '욕창 단계와 부위, 발견 경위가 명확히 기록되어 있습니다.',
        content: `[사고 상황 메모]

사고 유형: 욕창 발견
환자: 박OO (60대, 남)

발견 시각: 09:00 (오전 체위 변경 시)
발견 부위: 천골 부위
상태: 1단계 욕창 (피부 발적, 비창백성)

발견 경위:
체위 변경 중 피부 사정 시 발견
환자 통증 호소 없음

즉각 조치:
욕창 부위 사진 촬영
담당 의사에게 보고
드레싱 시행
체위 변경 주기 조정 (2시간 → 1시간)
욕창 위험도 재평가`
      }
    ],
    prompts: [
      {
        id: 's09-prac02-p01',
        title: '사고 유형별 핵심 정보 추출',
        template: `아래 사고 메모에서 보고서 작성에 필요한 핵심 정보를 추출해주세요.

추출 항목:
1. 사고 유형
2. 환자 정보
3. 발생/발견 시각
4. 발생/발견 상황
5. 환자 상태
6. 즉각 조치
7. 보고 현황

조건:
- 원문에 있는 정보만 추출
- 없는 정보는 "기록 없음"으로 표시
- 원인 추측 금지

[사고 메모]
{{data}}`,
        promptType: 'analyze',
        outputFormat: 'list',
        difficulty: 'basic',
        tags: ['정보추출', '사고분류'],
        expectedOutput: `■ 핵심 정보 추출

[투약 지연 사고]

1. 사고 유형: 투약 지연
2. 환자 정보: 이OO (70대, 여)
3. 발생 시각: 기록 없음 (정규 시간 대비 30분 지연)
4. 발생 상황: 정규 투약 시간 대비 약 30분 지연 투약
5. 환자 상태: 불편감 호소 없음
6. 즉각 조치:
   - 투약 완료
   - 활력징후 확인
   - 담당 의사에게 보고
7. 보고 현황: 담당 의사 보고 완료

---

[욕창 발견 사고]

1. 사고 유형: 욕창 발견
2. 환자 정보: 박OO (60대, 남)
3. 발견 시각: 09:00 (오전 체위 변경 시)
4. 발견 상황: 체위 변경 중 피부 사정 시 발견
5. 환자 상태:
   - 부위: 천골 부위
   - 단계: 1단계 욕창 (피부 발적, 비창백성)
   - 통증: 호소 없음
6. 즉각 조치:
   - 욕창 부위 사진 촬영
   - 담당 의사 보고
   - 드레싱 시행
   - 체위 변경 주기 조정 (2시간 → 1시간)
   - 욕창 위험도 재평가
7. 보고 현황: 담당 의사 보고 완료`,
        outputExplanation: '각 사고 유형별로 동일한 항목으로 정보를 추출했습니다. 투약 지연은 정확한 시각이 없어 "기록 없음"으로 표시하고, 욕창은 단계와 부위를 상세히 기록했습니다.'
      },
      {
        id: 's09-prac02-p02',
        title: '비교 테이블 작성',
        template: `위 두 사고를 비교하는 표를 작성해주세요.

| 항목 | 투약 지연 | 욕창 발견 |
|------|----------|----------|

비교 항목:
- 사고 유형
- 환자
- 발생/발견 시각
- 환자 영향
- 조치 수준
- 후속 조치 필요성

조건:
- 원문 정보만 사용
- 심각도 판단 금지 (사실만 기재)

[사고 메모]
{{data}}`,
        promptType: 'compare',
        outputFormat: 'table',
        difficulty: 'intermediate',
        tags: ['비교분석', '테이블'],
        expectedOutput: `■ 사고 유형별 비교표

| 항목 | 투약 지연 | 욕창 발견 |
|------|----------|----------|
| 사고 유형 | 투약 지연 | 욕창 발견 |
| 환자 | 이OO (70대, 여) | 박OO (60대, 남) |
| 발생/발견 시각 | 미기재 (30분 지연) | 09:00 |
| 발견/인지 경위 | 투약 시 인지 | 체위 변경 중 피부 사정 |
| 환자 상태 | 불편감 호소 없음 | 1단계 욕창, 통증 없음 |
| 즉각 조치 | 투약 완료, 활력징후 확인 | 사진촬영, 드레싱, 체위변경 조정 |
| 후속 조치 | 의사 보고 | 의사 보고, 위험도 재평가 |

■ 특이사항

[투약 지연]
- 환자에게 직접적 불편감 발생하지 않음
- 지연 시간: 약 30분

[욕창 발견]
- 정기 피부 사정 중 발견
- 체위 변경 주기 2시간 → 1시간으로 단축 조치`,
        outputExplanation: '동일한 항목으로 두 사고를 비교하면 각 유형의 특성을 파악하기 쉽습니다. "심각도"나 "책임" 같은 판단 항목은 포함하지 않았습니다.'
      }
    ],
    summary: '사고 유형마다 중요한 정보가 다릅니다. 투약은 지연 시간, 욕창은 단계와 부위가 핵심입니다. AI가 유형별 특성에 맞게 정보를 정리하도록 프롬프트를 설계하세요.'
  },
  {
    id: 3,
    title: '시나리오 3: 음성 메모 변환',
    description: '급박한 상황에서 녹음한 음성 메모(전사본)를 정식 보고서로 변환하는 실습입니다. 비문, 반복, 불완전한 문장을 정리하는 연습입니다.',
    dummyDataList: [
      {
        id: 's09-prac03',
        title: '자가 발관 사고 음성 메모',
        description: 'L-tube 자가 발관 발견 직후 음성 녹음 전사',
        category: 'safety',
        format: 'text',
        dataType: 'voice',
        characteristics: '급박한 상황에서 녹음한 음성이라 문장이 불완전하고 반복이 있습니다. 핵심 정보를 추출해야 합니다.',
        content: `[음성 녹음 전사]

어... 지금 라운딩 중인데요, 아 최OO 환자분, 70대 여자분이요.
L-tube가 빠져있어요. 자가발관이에요.
발견 시각은... 지금 2시 30분이네요.

환자분 의식은 명료하신데, 인지가 조금... 경도 인지저하가 있으셔서.
보호자분이 병실에 계셨는데 순간적으로 발생한 거 같아요.

환자 상태 보면... 호흡은 안정적이고요.
배 불편하다는 말씀은 안 하시고.
코에서 피나거나 그런 건 없어요.

지금 활력징후 측정하고요, 담당 선생님한테 보고해야 되고요.
L-tube 다시 넣을지는 의사 선생님 결정 기다려야 될 것 같아요.`
      }
    ],
    prompts: [
      {
        id: 's09-prac03-p01',
        title: '음성 메모 정리',
        template: `아래는 사고 발생 직후 녹음한 음성 메모의 전사본입니다.
이를 정리하여 사고보고서 형식으로 변환해주세요.

정리 기준:
1. 비문, 반복, 불필요한 표현 제거
2. 핵심 정보만 추출하여 구조화
3. 원문에 없는 내용 추가 금지

보고서 구성:
- 사고 개요
- 발생 상황
- 환자 상태
- 즉각 조치

[음성 전사본]
{{data}}`,
        promptType: 'convert',
        outputFormat: 'report',
        difficulty: 'intermediate',
        tags: ['음성변환', '자가발관'],
        expectedOutput: `┌──────────────────────────────────────────────────────────────┐
│                  환자안전 사고보고서                          │
├──────────────────────────────────────────────────────────────┤
│ ■ 사고 개요                                                  │
│                                                              │
│ 사고 유형: 자가 발관 (L-tube)                                │
│ 환자: 최OO (70대, 여)                                        │
│ 발견 시각: 14:30                                             │
│ 발견 경위: 라운딩 중 발견                                    │
├──────────────────────────────────────────────────────────────┤
│ ■ 발생 상황                                                  │
│                                                              │
│ - L-tube가 제거된 상태로 발견됨                              │
│ - 환자: 의식 명료, 경도 인지저하 있음                        │
│ - 사고 발생 시 보호자 병실에 있었으나 순간적으로 발생        │
├──────────────────────────────────────────────────────────────┤
│ ■ 환자 상태                                                  │
│                                                              │
│ - 호흡: 안정적                                               │
│ - 복부: 불편감 호소 없음                                     │
│ - 비강: 출혈 없음                                            │
├──────────────────────────────────────────────────────────────┤
│ ■ 즉각 조치                                                  │
│                                                              │
│ 1. 활력징후 측정                                             │
│ 2. 담당 의사에게 보고                                        │
│ 3. L-tube 재삽입 여부 의사 결정 대기                         │
└──────────────────────────────────────────────────────────────┘`,
        outputExplanation: 'AI가 "어...", "지금", "~인데요" 같은 구어체 표현을 제거하고 핵심 정보만 추출했습니다. "순간적으로 발생"은 원문 그대로 인용했습니다.'
      },
      {
        id: 's09-prac03-p02',
        title: '누락 정보 체크리스트',
        template: `위 음성 메모를 분석하여 사고보고서에 필요하지만 누락된 정보를 체크리스트로 정리해주세요.

체크 항목:
□ 정확한 발생 시각 (발견 시각 vs 발생 시각)
□ 환자 활력징후 수치
□ 발관 전 마지막 L-tube 확인 시각
□ 보호자 연락 여부
□ 기타 필요 정보

조건:
- 원문에 없는 정보만 체크
- 추가 확인이 필요한 이유 간단히 기재

[음성 전사본]
{{data}}`,
        promptType: 'validate',
        outputFormat: 'checklist',
        difficulty: 'intermediate',
        tags: ['누락확인', '체크리스트'],
        expectedOutput: `■ 사고보고서 누락 정보 체크리스트

□ 정확한 발생 시각
  - 현재: 발견 시각(14:30)만 기록
  - 필요: 실제 발관 발생 시각 (보호자 확인 필요)

□ 환자 활력징후 수치
  - 현재: "측정 예정"으로 기록
  - 필요: 실제 측정 수치 (BP, PR, RR, SpO2)

□ 발관 전 마지막 L-tube 확인 시각
  - 현재: 기록 없음
  - 필요: 마지막 위치 확인 시각 및 상태

□ 보호자 연락/설명 여부
  - 현재: "보호자 병실에 있었음"만 기록
  - 필요: 보호자에게 상황 설명 여부

□ 환자 당시 행동
  - 현재: 기록 없음
  - 필요: 발관 전후 환자 행동 (보호자 진술)

□ 담당 의사 보고 시각
  - 현재: "보고 예정"으로 기록
  - 필요: 실제 보고 완료 시각

■ 확인 권장 사항

1. 보호자에게 발관 당시 상황 청취
2. 활력징후 측정 후 수치 기록 보완
3. 담당 의사 보고 후 지시사항 기록`,
        outputExplanation: '음성 메모는 급하게 녹음하므로 누락이 많습니다. AI가 공식 보고서에 필요한 항목을 기준으로 누락된 정보를 정리하면 보완이 필요한 부분을 파악할 수 있습니다.'
      }
    ],
    summary: '음성 메모는 빠르게 기록할 수 있지만 정보가 불완전합니다. AI를 활용하여 구어체를 문어체로 변환하고, 누락된 정보를 체계적으로 파악하면 보고서 작성 효율이 높아집니다.'
  },
  {
    id: 4,
    title: '시나리오 4: 함정 데이터 - 원인 추측 감지',
    description: '메모에 작성자의 주관적 판단이나 원인 추측이 섞여 있는 경우입니다. AI가 사실과 추측을 구분하고, 보고서에는 사실만 포함하도록 합니다.',
    dummyDataList: [
      {
        id: 's09-prac04',
        title: '원인 추측이 섞인 낙상 메모',
        description: '사실과 추측이 혼재된 사고 메모',
        category: 'safety',
        format: 'text',
        dataType: 'flawed',
        trapPoints: [
          '"야간이라 간호사 인력이 부족해서" - 원인 추측',
          '"수면제 복용으로 인해 비틀거린 것으로 보임" - 원인 추측',
          '"침대 난간을 올려뒀어야 했는데" - 사후 판단',
          '"환자가 콜벨을 누르지 않아서" - 책임 전가성 표현'
        ],
        characteristics: '작성자가 원인을 추측하거나 사후 판단을 기록에 포함시켰습니다. 공식 보고서에서는 이런 표현을 제외해야 합니다.',
        content: `[사고 상황 메모]

사고 유형: 낙상
환자: 정OO (78세, 여)
발생 시각: 02:15

상황:
야간이라 간호사 인력이 부족해서 바로 발견 못 함
환자가 화장실 가려고 침대에서 내려오다가 넘어짐
수면제 복용으로 인해 비틀거린 것으로 보임
환자가 콜벨을 누르지 않아서 혼자 이동하다 발생

침대 난간을 올려뒀어야 했는데 내려져 있었음

환자 상태:
의식 명료하나 당황한 상태
좌측 엉덩이 통증 호소 (NRS 5점)
보행 시 통증으로 어려움

즉각 조치:
휠체어로 이동
통증 부위 얼음찜질
담당 의사 및 당직의 보고
X-ray 촬영 예정`
      }
    ],
    prompts: [
      {
        id: 's09-prac04-p01',
        title: '사실과 추측 분리',
        template: `아래 사고 메모에서 "사실"과 "추측/판단"을 분리해주세요.

분류 기준:
■ 사실: 객관적으로 관찰되거나 확인된 내용
■ 추측/판단: "~때문에", "~것으로 보임", "~했어야 했는데" 등

형식:
1. 사실 목록
2. 추측/판단 목록 (원문 인용)
3. 보고서에 포함할 내용 (사실만)

[사고 메모]
{{data}}`,
        promptType: 'validate',
        outputFormat: 'list',
        difficulty: 'advanced',
        tags: ['사실확인', '추측감지'],
        expectedOutput: `■ 사실 (객관적 관찰/확인)

[사고 정보]
- 사고 유형: 낙상
- 환자: 정OO (78세, 여)
- 발생 시각: 02:15
- 상황: 화장실 가려고 침대에서 내려오다가 넘어짐
- 침대 난간: 내려져 있었음

[환자 상태]
- 의식: 명료 (당황한 상태)
- 통증: 좌측 엉덩이 NRS 5점
- 보행: 통증으로 어려움

[조치]
- 휠체어로 이동
- 통증 부위 얼음찜질
- 담당 의사 및 당직의 보고
- X-ray 촬영 예정

---

■ 추측/판단 (보고서 제외 대상)

1. "야간이라 간호사 인력이 부족해서 바로 발견 못 함"
   → 원인 추측 + 책임 관련 표현

2. "수면제 복용으로 인해 비틀거린 것으로 보임"
   → 원인 추측 ("~것으로 보임")

3. "환자가 콜벨을 누르지 않아서 혼자 이동하다 발생"
   → 책임 전가 표현 ("~않아서")

4. "침대 난간을 올려뒀어야 했는데"
   → 사후 판단 ("~했어야 했는데")

---

■ 보고서 포함 내용 (사실만)

사고 유형: 낙상
환자: 정OO (78세, 여)
발생 시각: 02:15
발생 상황: 환자가 화장실 이동 위해 침대에서 내려오다 넘어짐
침대 상태: 침대 난간 내려져 있었음
환자 상태: 의식 명료, 좌측 엉덩이 통증 (NRS 5점), 보행 시 어려움
즉각 조치: 휠체어 이동, 얼음찜질, 의사 보고, X-ray 예정`,
        outputExplanation: 'AI가 원인 추측, 책임 관련 표현, 사후 판단을 정확히 감지했습니다. 공식 보고서에는 "사실" 부분만 포함해야 합니다.'
      },
      {
        id: 's09-prac04-p02',
        title: '정제된 보고서 작성',
        template: `위 분석을 바탕으로 추측/판단을 제외한 정제된 사고보고서를 작성해주세요.

조건:
- 사실만 기재
- "~때문에", "~것으로 보임", "~했어야" 표현 사용 금지
- 중립적이고 객관적인 어조

보고서 형식:
1. 사고 개요
2. 발생 상황
3. 환자 상태
4. 즉각 조치

[사고 메모]
{{data}}`,
        promptType: 'generate',
        outputFormat: 'report',
        difficulty: 'advanced',
        tags: ['정제보고서', '객관적기술'],
        expectedOutput: `┌──────────────────────────────────────────────────────────────┐
│                  환자안전 사고보고서                          │
├──────────────────────────────────────────────────────────────┤
│ ■ 사고 개요                                                  │
│                                                              │
│ 사고 유형: 낙상                                              │
│ 환자: 정OO (78세, 여)                                        │
│ 발생 시각: 02:15                                             │
│ 발생 장소: 병실 내 (침대 옆)                                 │
├──────────────────────────────────────────────────────────────┤
│ ■ 발생 상황                                                  │
│                                                              │
│ - 환자가 화장실 이동을 위해 침대에서 내려오다 넘어짐         │
│ - 발견 당시 침대 난간은 내려진 상태                          │
├──────────────────────────────────────────────────────────────┤
│ ■ 환자 상태                                                  │
│                                                              │
│ - 의식: 명료                                                 │
│ - 통증: 좌측 엉덩이 부위 (NRS 5점)                           │
│ - 보행: 통증으로 인해 어려움                                 │
├──────────────────────────────────────────────────────────────┤
│ ■ 즉각 조치                                                  │
│                                                              │
│ 1. 휠체어로 이동                                             │
│ 2. 통증 부위 얼음찜질 시행                                   │
│ 3. 담당 의사 및 당직의에게 보고                              │
│ 4. X-ray 촬영 예정                                           │
└──────────────────────────────────────────────────────────────┘

※ 원인 분석은 별도 과정을 통해 진행`,
        outputExplanation: '정제된 보고서는 원인 추측 없이 사실만 기재합니다. "인력 부족", "수면제 때문에", "콜벨을 안 눌러서" 같은 표현이 모두 제외되었습니다.'
      }
    ],
    summary: '환자안전 사고보고서의 목적은 원인 규명이 아니라 사실 기록입니다. AI를 활용할 때 추측과 판단을 자동으로 감지하고 제외하면 객관적인 보고서를 작성할 수 있습니다.'
  },
  {
    id: 5,
    title: '시나리오 5: 복합 사고 - 상세 보고서',
    description: '낙상과 손상이 함께 발생한 복합 사고입니다. 활력징후, 통증 점수 등 정량적 데이터가 포함되어 있어 더 상세한 보고서 작성이 필요합니다.',
    dummyDataList: [
      {
        id: 's09-prac05',
        title: '낙상 + 손상 복합 사고',
        description: '침대에서 낙상 후 손목 손상이 의심되는 사고',
        category: 'safety',
        format: 'text',
        dataType: 'memo',
        characteristics: '활력징후, 통증점수(NRS) 등 정량적 데이터가 포함된 상세한 사고 메모입니다. X-ray까지 진행되는 심각한 사고입니다.',
        content: `[사고 상황 메모]

사고 유형: 낙상 및 손상
환자: 정OO (85세, 여)

발생 시각: 21:45
발생 장소: 병실 내 침대 옆

상황:
환자가 침대에서 내려오다 바닥에 넘어짐
넘어지는 소리 듣고 간호사 병실 진입
발견 시 환자 바닥에 앉아 있는 상태

환자 상태:
의식 명료
우측 손목 통증 호소 (NRS 6점)
우측 손목 부종 및 압통
움직임 제한

즉각 조치:
환자 침상으로 이동 보조
우측 손목 부목 고정
얼음찜질 시행
활력징후 측정 (BP 150/90, P 88, R 20)
담당 의사 및 당직의에게 보고
X-ray 촬영 오더 확인`
      }
    ],
    prompts: [
      {
        id: 's09-prac05-p01',
        title: '상세 사고보고서',
        template: `아래 복합 사고 메모를 바탕으로 상세 사고보고서를 작성해주세요.

보고서 구성:
1. 사고 개요
2. 발생 상황 (시간순)
3. 환자 상태 (정량적 데이터 포함)
4. 손상 평가
5. 즉각 조치 (시간순)
6. 후속 조치 계획

조건:
- 정량적 데이터(NRS, 활력징후)는 수치 그대로 기재
- 시간순 정리
- 원인 추측 금지

[사고 메모]
{{data}}`,
        promptType: 'convert',
        outputFormat: 'report',
        difficulty: 'advanced',
        tags: ['상세보고서', '복합사고'],
        expectedOutput: `┌──────────────────────────────────────────────────────────────┐
│              환자안전 사고보고서 (상세)                       │
├──────────────────────────────────────────────────────────────┤
│ ■ 사고 개요                                                  │
│                                                              │
│ 사고 유형: 낙상 및 손상                                      │
│ 환자: 정OO (85세, 여)                                        │
│ 발생 일시: 21:45                                             │
│ 발생 장소: 병실 내 침대 옆                                   │
├──────────────────────────────────────────────────────────────┤
│ ■ 발생 상황 (시간순)                                         │
│                                                              │
│ [21:45] 사고 발생                                            │
│ - 환자가 침대에서 내려오다 바닥에 넘어짐                     │
│                                                              │
│ [직후] 발견                                                  │
│ - 넘어지는 소리 듣고 간호사 병실 진입                        │
│ - 발견 시 환자 바닥에 앉아 있는 상태                         │
├──────────────────────────────────────────────────────────────┤
│ ■ 환자 상태                                                  │
│                                                              │
│ [의식] 명료                                                  │
│                                                              │
│ [활력징후]                                                   │
│ - BP: 150/90 mmHg                                            │
│ - P: 88 회/분                                                │
│ - R: 20 회/분                                                │
│                                                              │
│ [통증]                                                       │
│ - 부위: 우측 손목                                            │
│ - 강도: NRS 6점                                              │
├──────────────────────────────────────────────────────────────┤
│ ■ 손상 평가                                                  │
│                                                              │
│ [우측 손목]                                                  │
│ - 부종: 있음                                                 │
│ - 압통: 있음                                                 │
│ - 움직임: 제한됨                                             │
│ - 추가 검사: X-ray 촬영 예정                                 │
├──────────────────────────────────────────────────────────────┤
│ ■ 즉각 조치                                                  │
│                                                              │
│ 1. 환자 침상으로 이동 보조                                   │
│ 2. 우측 손목 부목 고정                                       │
│ 3. 얼음찜질 시행                                             │
│ 4. 활력징후 측정                                             │
│ 5. 담당 의사 및 당직의에게 보고                              │
├──────────────────────────────────────────────────────────────┤
│ ■ 후속 조치                                                  │
│                                                              │
│ - X-ray 촬영 오더 확인됨                                     │
│ - 촬영 결과에 따른 추가 조치 예정                            │
└──────────────────────────────────────────────────────────────┘`,
        outputExplanation: '복합 사고는 손상 평가 섹션을 별도로 구성하여 상세히 기록합니다. 활력징후와 NRS 점수 같은 정량적 데이터는 단위와 함께 정확히 기재했습니다.'
      },
      {
        id: 's09-prac05-p02',
        title: '후속 모니터링 체크리스트',
        template: `위 사고를 바탕으로 후속 모니터링에 필요한 체크리스트를 작성해주세요.

포함 항목:
1. 환자 상태 모니터링 항목
2. 확인 주기
3. 보고 기준 (언제 재보고해야 하는지)
4. 기록해야 할 사항

조건:
- 사고 내용에 근거한 항목만 포함
- 구체적인 수치 기준 제시

[사고 메모]
{{data}}`,
        promptType: 'generate',
        outputFormat: 'checklist',
        difficulty: 'advanced',
        tags: ['모니터링', '후속관찰'],
        expectedOutput: `■ 낙상 후 모니터링 체크리스트

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

1. 활력징후 모니터링

□ 혈압 측정
  - 기준: 초기 150/90 mmHg
  - 주기: 1시간마다 × 4회, 이후 4시간마다
  - 보고 기준: SBP >160 또는 <90, DBP >100 또는 <60

□ 맥박 측정
  - 기준: 초기 88회/분
  - 보고 기준: >100 또는 <60

□ 호흡 측정
  - 기준: 초기 20회/분
  - 보고 기준: >24 또는 <12

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

2. 손상 부위 모니터링 (우측 손목)

□ 통증 평가
  - 기준: 초기 NRS 6점
  - 주기: 2시간마다
  - 보고 기준: NRS 증가 또는 8점 이상

□ 부종 관찰
  - 주기: 2시간마다
  - 보고 기준: 부종 증가

□ 감각 확인
  - 내용: 손가락 감각, 움직임, 색깔
  - 보고 기준: 감각 저하, 창백, 청색증

□ 부목 상태
  - 내용: 고정 상태, 피부 압박 여부
  - 주기: 매 확인 시

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

3. 전신 상태 모니터링

□ 의식 상태
  - 기준: 명료 유지
  - 보고 기준: 의식 변화

□ 두통, 어지러움
  - 보고 기준: 새로운 증상 발생

□ 다른 부위 통증
  - 보고 기준: 새로운 통증 호소

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

4. 기록 사항

□ X-ray 결과 확인 및 기록
□ 의사 지시사항 기록
□ 통증 변화 추이 기록
□ 보호자 설명 및 반응 기록`,
        outputExplanation: '후속 모니터링 체크리스트는 초기 상태 수치를 기준으로 보고 기준을 설정합니다. 통증, 활력징후, 손상 부위별로 구체적인 확인 주기와 기준을 제시했습니다.'
      }
    ],
    summary: '복합 사고는 정량적 데이터(활력징후, NRS 등)를 정확히 기록하고, 손상 부위별 상세 평가가 필요합니다. 후속 모니터링 체크리스트를 미리 만들어두면 체계적인 관찰이 가능합니다.'
  },
  {
    id: 6,
    title: '시나리오 6: 종합 실습 - JSON 데이터 활용',
    description: '구조화된 JSON 형식의 사고 데이터를 활용하여 다양한 형식의 보고서로 변환하는 종합 실습입니다.',
    dummyDataList: [
      {
        id: 's09-prac06',
        title: '구조화된 사고 데이터 (JSON)',
        description: 'JSON 형식의 낙상 사고 보고 데이터',
        category: 'safety',
        format: 'json',
        dataType: 'memo',
        characteristics: 'JSON 형식은 필드가 명확히 구분되어 있어 정보 누락 확인과 형식 변환이 용이합니다.',
        content: `{
  "incident_report": {
    "incident_type": "낙상",
    "patient": {
      "name": "김OO",
      "age": "80대",
      "gender": "남",
      "room": "301호"
    },
    "occurrence": {
      "date": "2024-01-15",
      "time": "03:20",
      "location": "병실 내",
      "situation": "화장실 이동 중 병실 바닥에서 넘어짐",
      "witness": "없음 (야간 근무 중 발견)",
      "guardian_present": false
    },
    "patient_status": {
      "consciousness": "명료",
      "injury": "이마 경미한 타박상",
      "pain": "심하게 호소하지 않음",
      "vital_signs": "정상 범위"
    },
    "immediate_actions": [
      "침상으로 이동 도움",
      "얼음찜질 시행",
      "담당 의사에게 보고"
    ]
  }
}`
      }
    ],
    prompts: [
      {
        id: 's09-prac06-p01',
        title: 'JSON → 공식 보고서 변환',
        template: `아래 JSON 형식의 사고 데이터를 공식 환자안전 사고보고서 형식으로 변환해주세요.

보고서 형식:
┌─────────────────────────────────────┐
│         환자안전 사고보고서          │
├─────────────────────────────────────┤
│ (각 섹션별 내용)                    │
└─────────────────────────────────────┘

조건:
- JSON 필드명을 한글로 변환
- 구조화된 정보 유지
- null 또는 빈 값은 "기록 없음" 표시

[JSON 데이터]
{{data}}`,
        promptType: 'convert',
        outputFormat: 'report',
        difficulty: 'intermediate',
        tags: ['JSON변환', '공식보고서'],
        expectedOutput: `┌──────────────────────────────────────────────────────────────┐
│                  환자안전 사고보고서                          │
├──────────────────────────────────────────────────────────────┤
│ ■ 사고 개요                                                  │
│                                                              │
│ 사고 유형: 낙상                                              │
│ 환자명: 김OO                                                 │
│ 나이/성별: 80대 / 남                                         │
│ 병실: 301호                                                  │
├──────────────────────────────────────────────────────────────┤
│ ■ 발생 정보                                                  │
│                                                              │
│ 발생 일자: 2024-01-15                                        │
│ 발생 시각: 03:20                                             │
│ 발생 장소: 병실 내                                           │
│ 목격자: 없음 (야간 근무 중 발견)                             │
│ 보호자 동석: 아니오                                          │
├──────────────────────────────────────────────────────────────┤
│ ■ 발생 상황                                                  │
│                                                              │
│ 화장실 이동 중 병실 바닥에서 넘어짐                          │
├──────────────────────────────────────────────────────────────┤
│ ■ 환자 상태                                                  │
│                                                              │
│ 의식: 명료                                                   │
│ 손상: 이마 경미한 타박상                                     │
│ 통증: 심하게 호소하지 않음                                   │
│ 활력징후: 정상 범위                                          │
├──────────────────────────────────────────────────────────────┤
│ ■ 즉각 조치                                                  │
│                                                              │
│ 1. 침상으로 이동 도움                                        │
│ 2. 얼음찜질 시행                                             │
│ 3. 담당 의사에게 보고                                        │
└──────────────────────────────────────────────────────────────┘`,
        outputExplanation: 'JSON의 영문 필드명(incident_type, consciousness 등)을 한글로 변환하고, 불리언 값(guardian_present: false)을 "아니오"로 표현했습니다.'
      },
      {
        id: 's09-prac06-p02',
        title: '다중 형식 출력',
        template: `위 JSON 데이터를 다음 세 가지 형식으로 변환해주세요:

1. 한 줄 요약 (보고용)
2. 체크리스트 형식 (확인용)
3. 시간순 정리 (경과기록용)

조건:
- 각 형식의 목적에 맞게 정보 구성
- 원본 데이터만 사용

[JSON 데이터]
{{data}}`,
        promptType: 'convert',
        outputFormat: 'report',
        difficulty: 'advanced',
        tags: ['멀티포맷', '형식변환'],
        expectedOutput: `■ 1. 한 줄 요약 (보고용)

2024-01-15 03:20, 301호 김OO(80대 남) 환자 병실 내 낙상 발생,
이마 경미한 타박상 외 의식 명료, 활력징후 정상, 의사 보고 완료.

---

■ 2. 체크리스트 형식 (확인용)

환자안전 사고 체크리스트
━━━━━━━━━━━━━━━━━━━━━━━━━━━━

[사고 정보]
☑ 사고 유형: 낙상
☑ 발생 일시: 2024-01-15 03:20
☑ 발생 장소: 병실 내 (301호)

[환자 정보]
☑ 환자명: 김OO
☑ 나이/성별: 80대/남

[발생 상황]
☑ 상황 기술: 화장실 이동 중 바닥에서 넘어짐
☑ 목격자: 없음
☑ 보호자 동석: 없음

[환자 상태]
☑ 의식: 명료
☑ 손상: 이마 경미한 타박상
☑ 통증: 심하지 않음
☑ 활력징후: 정상 범위

[즉각 조치]
☑ 침상 이동
☑ 얼음찜질
☑ 의사 보고

---

■ 3. 시간순 정리 (경과기록용)

[2024-01-15]

03:20  낙상 발생
       - 301호 김OO (80대 남)
       - 화장실 이동 중 병실 바닥에서 넘어짐
       - 보호자 부재, 목격자 없음

직후   환자 상태 확인
       - 의식: 명료
       - 손상: 이마 경미한 타박상
       - 통증: 심하게 호소하지 않음
       - 활력징후: 정상 범위

조치   즉각 대응
       ① 침상으로 이동 도움
       ② 얼음찜질 시행
       ③ 담당 의사에게 보고`,
        outputExplanation: '같은 데이터를 목적에 따라 세 가지 형식으로 변환했습니다. 한 줄 요약은 빠른 보고용, 체크리스트는 완료 확인용, 시간순은 경과기록용으로 활용할 수 있습니다.'
      }
    ],
    summary: 'JSON 같은 구조화된 데이터는 형식 변환이 용이하고 정보 누락을 방지할 수 있습니다. 목적에 따라 요약, 체크리스트, 타임라인 등 다양한 형식으로 변환하는 연습을 했습니다.'
  }
];
