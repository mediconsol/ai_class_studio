import { PromptGuide } from '../../types';

export const promptGuide: PromptGuide = {
  strategy: {
    title: '민원 응대 문구의 프롬프트 전략',
    description: '민원 응대는 공감과 정확성의 균형이 중요합니다. AI가 과도한 약속을 하거나 책임을 회피하는 표현을 사용하지 않도록 하며, 제공된 상황 정보만 바탕으로 공손하고 명확하게 응대하도록 유도합니다.',
    keyPoints: [
      '시스템 프롬프트에서 "과도한 약속 금지", "책임 회피 표현 금지", "상황 정보만 사용" 규칙 설정',
      '사용자 프롬프트에서 피해야 할 표현("규정이라서", "원래 그렇습니다") 명시',
      '적절한 temperature(0.15)로 공손하면서도 일관된 응대 가능',
      '응대 구조(공감→설명→대안→마무리)를 명시하여 일관성 확보',
    ],
    temperature: 0.15,
    temperatureReason: 'Temperature 0.15로 설정하여 공손하고 자연스러운 응대 문구를 생성하면서도, 과도한 약속이나 부적절한 표현이 추가되지 않도록 합니다. 민원 응대는 일정한 유연성이 필요하지만 안전 범위 내에서 작동하도록 합니다.',
  },

  comparison: {
    bad: {
      title: '❌ 나쁜 예: 프롬프트 미분리',
      systemPrompt: '',
      userPrompt: `검사 대기 시간이 너무 길다는 민원에 대한 응대 문구를 작성해줘.

[상황]
환자: 2시간째 대기 중
검사: 초음파
예약: 오전 10시 (현재 12시)`,
      output: `안녕하세요. 불편을 끼쳐드려 진심으로 사과드립니다.

검사실 상황을 확인해보니, 오늘은 응급 환자가 많아서 예정보다 지연되고 있습니다.
병원 규정상 응급 환자를 우선으로 처리해야 하는 점 양해 부탁드립니다.

곧 검사 순서가 오실 것으로 예상되니 조금만 더 기다려 주시겠습니까?
최대한 빨리 검사를 진행할 수 있도록 담당자에게 말씀드리겠습니다.
불편하시겠지만 저희도 최선을 다하고 있으니 이해해 주시면 감사하겠습니다.`,
      issues: [
        '"응급 환자가 많아서"는 원문에 없는 추측',
        '"병원 규정상"은 금지된 표현 (책임 회피)',
        '"곧 검사 순서가 올 것으로 예상"은 근거 없는 약속',
        '"최대한 빨리"는 모호한 약속',
        '"저희도 최선을 다하고 있으니"는 방어적 표현',
      ],
    },
    good: {
      title: '✅ 좋은 예: 시스템/사용자 프롬프트 분리',
      systemPrompt: `당신은 의료기관 민원 응대 문구 작성을 보조하는 역할입니다.

## 핵심 안전 규칙
- 상황 정보만 사용: 제공된 상황 외 추측 금지
- 약속 금지: "곧", "빨리", "최대한" 등 시간 약속 금지
- 책임 회피 금지: "규정이라서", "원래 그렇습니다" 금지
- 방어 표현 금지: "저희도 최선", "이해해 주시면" 등 금지
- 공손함 유지: 공감과 명확한 설명 우선`,
      userPrompt: `아래 민원 상황에 대해 환자 또는 보호자에게 안내할 응대 문구 초안을 작성해주세요.

■ 작성 기준
- 공손하고 차분한 톤
- 감정적인 표현 사용 금지
- 상황을 이해하기 쉽게 설명
- 책임을 회피하거나 전가하는 표현 금지
- "규정이라서", "원래 그렇습니다" 같은 표현 금지

■ 형식
1. 첫인사 (공감 표현)
2. 상황 설명
3. 대안/안내 (가능한 경우만)
4. 마무리

조건:
- 제공된 민원 상황 정보만 사용
- 추측이나 일반론 금지
- 시간 약속 금지 ("곧", "빨리")
- 병원 정책이나 규정 언급 금지

[민원 상황]
환자: 2시간째 대기 중
검사: 초음파
예약: 오전 10시 (현재 12시)`,
      output: `안녕하세요. 오랜 시간 기다려주셔서 감사합니다.

예약 시간보다 지연되어 불편을 드린 점 송구합니다.
현재 검사실 상황을 확인하여 안내드리겠습니다.

잠시만 기다려 주시면 확인 후 말씀드리겠습니다.`,
    },
  },

  practice: {
    title: '직접 실습: 프롬프트 개선하기',
    instruction: '아래의 개선 전 프롬프트를 보고, 힌트를 참고하여 시스템/사용자 프롬프트로 분리하고 안전 규칙을 추가해보세요.',
    basePrompt: `주차 공간 부족 민원에 대한 응대 문구를 작성해줘.

[상황]
환자: 30분째 주차 자리 찾는 중
방문 목적: 외래 진료`,
    improvementHints: [
      '시스템 프롬프트: "약속 금지", "책임 회피 금지", "상황 정보만" 규칙 추가',
      '사용자 프롬프트: 피해야 할 표현("규정이라서", "곧", "빨리") 명시',
      'Temperature를 0.15로 설정하여 자연스러운 응대 유지',
      '응대 구조(공감→설명→대안→마무리) 명시',
    ],
  },

  checklist: [
    '✅ 시스템 프롬프트에 "약속 금지", "책임 회피 금지" 규칙을 명시했나요?',
    '✅ 사용자 프롬프트에 피해야 할 표현을 구체적으로 나열했나요?',
    '✅ Temperature를 0.15~0.2로 설정했나요?',
    '✅ "규정이라서", "원래 그렇습니다" 같은 회피 표현이 없나요?',
    '✅ "곧", "빨리", "최대한" 같은 시간 약속이 없나요?',
    '✅ 원문에 없는 상황 추측이 포함되지 않았나요?',
  ],
};
