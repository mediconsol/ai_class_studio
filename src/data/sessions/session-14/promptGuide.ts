import { PromptGuide } from '../../types';

export const promptGuide: PromptGuide = {
  strategy: {
    title: '평가 대응 문서의 프롬프트 전략',
    description: '심사·평가 대응 문서는 사실 기반의 근거 제시가 핵심입니다. AI가 과장된 표현이나 근거 없는 주장을 추가하지 않도록 하며, 제공된 운영 내용만 정확히 구조화하도록 유도합니다.',
    keyPoints: [
      '시스템 프롬프트에서 "과장 금지", "실제 운영만", "근거 기반" 규칙 설정',
      '사용자 프롬프트에서 피해야 할 표현("철저히", "항상", "완벽히") 명시',
      '낮은 temperature(0.1)로 정확한 사실 유지',
      '출력 구조(답변→운영 체계→근거 자료) 명확히 지정하여 평가 기준 충족',
    ],
    temperature: 0.1,
    temperatureReason: 'Temperature 0.1로 설정하여 평가 대응 문서의 정확성을 보장합니다. 과장이나 미화 없이 실제 운영 내용만 정확히 정리하며, 수치와 근거가 정확히 유지되도록 합니다.',
  },

  comparison: {
    bad: {
      title: '❌ 나쁜 예: 프롬프트 미분리',
      systemPrompt: '',
      userPrompt: `낙상 예방 활동에 대한 평가 대응 문서를 작성해줘.

[운영 메모]
주 1회 낙상 위험 평가
고위험 환자 침대 난간 설치
야간 순회 시 확인`,
      output: `## 낙상 예방 활동 평가 대응

**답변**
본 병동은 낙상 예방을 위해 체계적이고 철저한 관리 시스템을 운영하고 있습니다.

**현재 운영 체계**
1. 위험 평가: 모든 환자를 대상으로 주 1회 이상 정기적으로 낙상 위험을 평가하고 있습니다.
2. 예방 조치: 고위험 환자에 대해서는 즉시 침대 난간 설치 등 필요한 모든 안전 조치를 완벽하게 시행합니다.
3. 지속 관찰: 간호사들이 야간 순회 시 항상 낙상 위험 환자를 확인하며, 문제 발생 시 즉각 대응합니다.
4. 교육: 환자 및 보호자에게 낙상 예방 교육을 철저히 실시합니다.

**근거 자료**
- 낙상 위험 평가표
- 안전 관리 매뉴얼
- 간호일지
- 낙상 사고 보고서 (발생률 0%)`,
      issues: [
        '"체계적이고 철저한"은 과장된 표현',
        '"주 1회 이상", "모든 환자"는 원문의 "주 1회"를 과장',
        '"즉시", "모든 안전 조치", "완벽하게"는 검증 불가능한 과장',
        '"항상", "즉각"은 원문에 없는 과장',
        '"교육 항목"은 원문에 없는 추가',
        '"발생률 0%"는 원문에 없는 데이터',
      ],
    },
    good: {
      title: '✅ 좋은 예: 시스템/사용자 프롬프트 분리',
      systemPrompt: `당신은 심사·평가 대응 문서 작성을 보조하는 역할입니다.

## 핵심 안전 규칙
- 사실만 기술: 실제 운영 중인 내용만 정리
- 과장 금지: "철저히", "항상", "완벽히", "모든" 등 과장 표현 금지
- 근거 기반: 제공된 메모에 있는 내용만 사용
- 추측 금지: 운영 중이지 않은 내용 추가 금지`,
      userPrompt: `아래 평가 항목과 운영 내용 메모를 바탕으로 평가 대응 문서 초안을 작성해주세요.

■ 작성 기준
- 평가 질문에 직접 답할 것
- 실제 운영 중인 내용만 정리할 것
- 과장된 표현 사용 금지
- "철저히", "항상", "완벽히", "모든", "즉시" 같은 표현 금지
- 공식 문서 톤으로 작성

■ 구성
1. 평가 항목에 대한 답변 (1~2문장, 사실만)
2. 현재 운영 체계 설명 (항목별)
3. 관련 근거 자료 목록

조건:
- 제공된 메모에 있는 내용만 사용
- 추측이나 일반론 금지
- 수치와 시간은 정확히 유지
- 운영 중이지 않은 내용 추가 금지

[평가 항목]
낙상 예방 활동

[운영 내용 메모]
주 1회 낙상 위험 평가
고위험 환자 침대 난간 설치
야간 순회 시 확인`,
      output: `## 낙상 예방 활동 평가 대응

**답변**
낙상 위험 평가 및 예방 조치를 시행하고 있습니다.

**현재 운영 체계**
1. 위험 평가: 주 1회 낙상 위험 평가 시행
2. 예방 조치: 고위험 환자 침대 난간 설치
3. 지속 관찰: 야간 순회 시 확인

**근거 자료**
- 낙상 위험 평가 기록
- 간호일지`,
    },
  },

  practice: {
    title: '직접 실습: 프롬프트 개선하기',
    instruction: '아래의 개선 전 프롬프트를 보고, 힌트를 참고하여 시스템/사용자 프롬프트로 분리하고 안전 규칙을 추가해보세요.',
    basePrompt: `손 위생 준수율에 대한 평가 대응 문서를 작성해줘.

[운영 메모]
월 1회 손 위생 준수율 조사
평균 준수율 85%
개선 활동: 포스터 게시, 알코올 겔 비치`,
    improvementHints: [
      '시스템 프롬프트: "과장 금지", "실제 운영만", "근거 기반" 규칙 추가',
      '사용자 프롬프트: 피해야 할 표현("철저히", "항상", "완벽히") 명시',
      'Temperature를 0.1로 설정하여 수치 정확성 유지',
      '출력 구조(답변→운영 체계→근거 자료) 명시',
    ],
  },

  checklist: [
    '✅ 시스템 프롬프트에 "과장 금지", "실제 운영만" 규칙을 명시했나요?',
    '✅ 사용자 프롬프트에 피해야 할 과장 표현을 나열했나요?',
    '✅ Temperature를 0.1~0.15로 낮게 설정했나요?',
    '✅ "철저히", "항상", "완벽히", "모든" 같은 과장 표현이 없나요?',
    '✅ 원문에 없는 운영 내용이 추가되지 않았나요?',
    '✅ 수치와 빈도가 원문과 정확히 일치하나요?',
  ],
};
