import { PromptGuide } from '../../types';

export const promptGuide: PromptGuide = {
  strategy: {
    title: '감염관리 자료 변환의 프롬프트 전략',
    description: '감염관리 지침을 교육자료로 변환할 때, AI가 외부 지식을 추가하거나 의학적 판단을 하지 않도록 해야 합니다. 원문 지침의 내용만 충실히 재구성하되, 대상 독자에 맞게 표현을 쉽게 바꾸는 것이 핵심입니다.',
    keyPoints: [
      '시스템 프롬프트에서 "원문만 사용", "추가 지식 금지", "의학 판단 금지" 규칙 설정',
      '사용자 프롬프트에서 변환 목적(교육/게시/안내)과 형식을 명확히 지정',
      '낮은 temperature(0.1)로 원문 내용 누락이나 외부 정보 추가 방지',
      '표현 변환은 허용하되 내용 추가는 불가: "어려운 말 → 쉬운 말" OK, "일반론 추가" NO',
    ],
    temperature: 0.1,
    temperatureReason: 'Temperature 0.1로 설정하여 감염관리 지침 내용의 정확성을 보장합니다. 외부 일반 지식이나 AI의 추론이 추가되지 않도록 하며, 원문에 있는 수칙과 절차만 재구성합니다.',
  },

  comparison: {
    bad: {
      title: '❌ 나쁜 예: 프롬프트 미분리',
      systemPrompt: '',
      userPrompt: `손 위생 지침을 신규 간호사 교육자료로 만들어줘.

[지침]
손 씻기는 5가지 타이밍에 시행: 환자 접촉 전, 청결/무균 시술 전, 체액 노출 후, 환자 접촉 후, 환자 주변 환경 접촉 후`,
      output: `## 신규 간호사를 위한 손 위생 가이드

**손 위생이 왜 중요한가요?**
의료 관련 감염의 80%는 손을 통해 전파됩니다. 세계보건기구(WHO)에 따르면 적절한 손 위생만으로도 병원 감염을 40% 이상 줄일 수 있습니다.

**5가지 타이밍**
1. 환자 접촉 전 - 환자를 보호하기 위해
2. 청결/무균 시술 전 - 감염 예방
3. 체액 노출 후 - 자신을 보호
4. 환자 접촉 후 - 자신과 병원 환경 보호
5. 환자 주변 환경 접촉 후 - 교차 감염 방지

**손 씻기 방법**
비누와 물로 40-60초간, 알코올 겔은 20-30초간 시행합니다.`,
      issues: [
        '"의료 관련 감염의 80%"는 원문에 없는 통계',
        '"세계보건기구(WHO)에 따르면"은 외부 출처 추가',
        '각 타이밍별 설명("환자를 보호", "교차 감염 방지")은 원문에 없는 해석',
        '"손 씻기 방법" 부분은 원문에 없는 추가 정보',
      ],
    },
    good: {
      title: '✅ 좋은 예: 시스템/사용자 프롬프트 분리',
      systemPrompt: `당신은 감염관리 지침을 교육자료로 변환하는 역할입니다.

## 핵심 안전 규칙
- 원문만 사용: 제공된 지침 내용만 재구성
- 외부 지식 금지: 통계, 연구 결과, 일반 상식 추가 금지
- 의학 판단 금지: "~하면 감염된다", "~가 효과적이다" 등 판단 금지
- 표현만 변환: 어려운 표현을 쉽게 바꾸되 내용은 추가하지 말 것`,
      userPrompt: `아래 감염관리 기본 지침을 바탕으로 신규 직원 교육용 자료 초안을 작성해주세요.

■ 작성 기준
- 어려운 표현은 쉬운 말로 바꿀 것
- 항목별로 정리할 것
- 교육용 문체로 작성할 것 ("~합니다", "~하세요")
- 분량은 A4 1장 이내

조건:
- 원문 지침의 내용만 사용
- 외부 통계나 연구 결과 추가 금지
- "왜 중요한지"는 원문에 있는 경우만 포함
- 추가 정보나 일반론 금지

[감염관리 지침]
손 씻기는 5가지 타이밍에 시행: 환자 접촉 전, 청결/무균 시술 전, 체액 노출 후, 환자 접촉 후, 환자 주변 환경 접촉 후`,
      output: `## 손 위생 지침

**5가지 타이밍에 손 씻기를 시행합니다**

1. 환자 접촉 전
2. 청결/무균 시술 전
3. 체액 노출 후
4. 환자 접촉 후
5. 환자 주변 환경 접촉 후

위 5가지 타이밍을 지켜주세요.`,
    },
  },

  practice: {
    title: '직접 실습: 프롬프트 개선하기',
    instruction: '아래의 개선 전 프롬프트를 보고, 힌트를 참고하여 시스템/사용자 프롬프트로 분리하고 안전 규칙을 추가해보세요.',
    basePrompt: `개인보호구 착용 지침을 병동 게시용 포스터로 만들어줘.

[지침]
표준주의: 모든 환자 대상 장갑, 가운, 마스크 착용
접촉주의: 장갑과 가운 추가
비말주의: 마스크 착용
공기주의: N95 마스크 착용`,
    improvementHints: [
      '시스템 프롬프트: "원문만 사용", "외부 정보 금지", "판단 금지" 규칙 추가',
      '사용자 프롬프트: "게시용 포스터 형식" 명시, "간결하게", "원문 항목만" 조건 추가',
      'Temperature를 0.1로 설정하여 원문 내용 유지',
      '출력 형식 지정: 제목 + 항목 나열',
    ],
  },

  checklist: [
    '✅ 시스템 프롬프트에 "원문만 사용", "외부 지식 금지" 규칙을 명시했나요?',
    '✅ 사용자 프롬프트에 변환 목적(교육/게시/안내)과 형식을 명시했나요?',
    '✅ Temperature를 0.1~0.2로 낮게 설정했나요?',
    '✅ 통계, 연구 결과, 외부 출처가 추가되지 않았나요?',
    '✅ 의학적 판단("~하면 감염", "~가 효과적")이 포함되지 않았나요?',
    '✅ 원문에 있는 내용만 재구성되었나요?',
  ],
};
